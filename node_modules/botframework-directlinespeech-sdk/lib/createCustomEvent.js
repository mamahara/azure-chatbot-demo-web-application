"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createCustomEvent;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

function createCustomEvent(name) {
  var eventInitDict = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (name === 'error') {
    if (typeof ErrorEvent === 'function') {
      return new ErrorEvent(name, eventInitDict);
    }
  } else if (typeof CustomEvent === 'function') {
    return new CustomEvent(name, eventInitDict);
  }

  var event = document.createEvent('Event');
  event.initEvent(name, true, true);
  Object.entries(eventInitDict).forEach(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
        name = _ref2[0],
        value = _ref2[1];

    event[name] = value;
  });
  return event;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVDdXN0b21FdmVudC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVDdXN0b21FdmVudCIsIm5hbWUiLCJldmVudEluaXREaWN0IiwiRXJyb3JFdmVudCIsIkN1c3RvbUV2ZW50IiwiZXZlbnQiLCJkb2N1bWVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBZSxTQUFTQSxpQkFBVCxDQUEyQkMsSUFBM0IsRUFBcUQ7QUFBQSxNQUFwQkMsYUFBb0IsdUVBQUosRUFBSTs7QUFDbEUsTUFBSUQsSUFBSSxLQUFLLE9BQWIsRUFBc0I7QUFDcEIsUUFBSSxPQUFPRSxVQUFQLEtBQXNCLFVBQTFCLEVBQXNDO0FBQ3BDLGFBQU8sSUFBSUEsVUFBSixDQUFlRixJQUFmLEVBQXFCQyxhQUFyQixDQUFQO0FBQ0Q7QUFDRixHQUpELE1BSU8sSUFBSSxPQUFPRSxXQUFQLEtBQXVCLFVBQTNCLEVBQXVDO0FBQzVDLFdBQU8sSUFBSUEsV0FBSixDQUFnQkgsSUFBaEIsRUFBc0JDLGFBQXRCLENBQVA7QUFDRDs7QUFFRCxNQUFNRyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0MsV0FBVCxDQUFxQixPQUFyQixDQUFkO0FBRUFGLEVBQUFBLEtBQUssQ0FBQ0csU0FBTixDQUFnQlAsSUFBaEIsRUFBc0IsSUFBdEIsRUFBNEIsSUFBNUI7QUFFQVEsRUFBQUEsTUFBTSxDQUFDQyxPQUFQLENBQWVSLGFBQWYsRUFBOEJTLE9BQTlCLENBQXNDLGdCQUFtQjtBQUFBO0FBQUEsUUFBakJWLElBQWlCO0FBQUEsUUFBWFcsS0FBVzs7QUFDdkRQLElBQUFBLEtBQUssQ0FBQ0osSUFBRCxDQUFMLEdBQWNXLEtBQWQ7QUFDRCxHQUZEO0FBSUEsU0FBT1AsS0FBUDtBQUNEIiwic291cmNlUm9vdCI6ImRpcmVjdGxpbmVzcGVlY2g6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQobmFtZSwgZXZlbnRJbml0RGljdCA9IHt9KSB7XG4gIGlmIChuYW1lID09PSAnZXJyb3InKSB7XG4gICAgaWYgKHR5cGVvZiBFcnJvckV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yRXZlbnQobmFtZSwgZXZlbnRJbml0RGljdCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQobmFtZSwgZXZlbnRJbml0RGljdCk7XG4gIH1cblxuICBjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXG4gIGV2ZW50LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcblxuICBPYmplY3QuZW50cmllcyhldmVudEluaXREaWN0KS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgZXZlbnRbbmFtZV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGV2ZW50O1xufVxuIl19