"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createBasicStyleSet;

var _glamor = require("glamor");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var DOT_BOX_SIZE = 20;
var DOT_SIZE = 6;

var createDotsBoxCSS = function createDotsBoxCSS(_ref) {
  var height = _ref.height;
  return (0, _glamor.css)({
    alignItems: 'center',
    bottom: 0,
    height: height,
    justifyContent: 'center',
    width: '100%'
  });
};

var createDotsItemCSS = function createDotsItemCSS(_ref2) {
  var boxSize = _ref2.boxSize,
      cursor = _ref2.cursor,
      size = _ref2.size;
  return (0, _glamor.css)({
    alignItems: 'center',
    display: 'flex',
    height: boxSize,
    justifyContent: 'center',
    width: boxSize,
    '& > input': _objectSpread({}, cursor ? {
      cursor: cursor
    } : {}, {
      height: '100%',
      left: 0,
      margin: 0,
      opacity: 0,
      position: 'absolute',
      userSelect: 'none',
      top: 0,
      touchAction: 'none',
      width: '100%'
    }),
    '& > div': {
      background: 'rgba(0, 0, 0, .2)',
      borderRadius: size / 2,
      height: size,
      width: size
    },
    '&:hover > div, & > input:focus + div': {
      background: 'rgba(0, 0, 0, .4)'
    },
    '& > input:active + div': {
      background: 'rgba(0, 0, 0, .8)'
    },
    '& > input:checked:not(:active) + div': {
      background: 'rgba(0, 0, 0, .6)'
    }
  });
};

var FLIPPER_BOX_WIDTH = 60;
var FLIPPER_SIZE = 40;

var createFlipperBoxCSS = function createFlipperBoxCSS(_ref3) {
  var boxWidth = _ref3.boxWidth,
      cursor = _ref3.cursor,
      size = _ref3.size;
  return (0, _glamor.css)(_objectSpread({}, cursor ? {
    cursor: cursor
  } : {}, {
    background: 'Transparent',
    height: '100%',
    overflow: 'hidden',
    position: 'absolute',
    userSelect: 'none',
    top: 0,
    touchAction: 'none',
    transitionDuration: '300ms',
    width: boxWidth,
    zIndex: 1,
    '& > div.slider': {
      alignItems: 'center',
      display: 'flex',
      height: '100%',
      justifyContent: 'center',
      position: 'absolute',
      top: 0,
      width: '100%',
      '& > div': {
        backgroundColor: 'rgba(0, 0, 0, .6)',
        borderRadius: '50%',
        color: 'rgba(255, 255, 255, .6)',
        fontFamily: ['Consolas', 'monospace'].map(function (font) {
          return "'".concat(font, "'");
        }).join(', '),
        fontSize: 16,
        height: size,
        lineHeight: "".concat(size, "px"),
        transitionProperty: 'background-color',
        transitionDuration: '100ms',
        width: size
      }
    },
    '&:hover, &:focus': {
      '& > div.slider > div': {
        backgroundColor: 'rgba(0, 0, 0, .8)',
        color: 'rgba(255, 255, 255, .8)',
        transitionDuration: 0
      }
    },
    '&:active > div.slider > div': {
      backgroundColor: 'Black',
      color: 'White',
      transitionDuration: 0
    }
  }));
};

var createLeftFlipperCSS = function createLeftFlipperCSS(options) {
  return (0, _glamor.css)({
    left: 0,
    transitionProperty: 'left',
    '& > div.slider': {
      left: 0
    }
  }, createFlipperBoxCSS(options));
};

var createRightFlipperCSS = function createRightFlipperCSS(options) {
  return (0, _glamor.css)({
    right: 0,
    transitionProperty: 'right',
    '& > div.slider': {
      right: 0
    }
  }, createFlipperBoxCSS(options));
};

var SCROLL_BAR_HEIGHT = 8;
var SCROLL_BAR_MARGIN = 4;

var createScrollBarBoxCSS = function createScrollBarBoxCSS(_ref4) {
  var margin = _ref4.margin;
  return (0, _glamor.css)({
    bottom: 0,
    padding: margin,
    position: 'absolute',
    transitionDelay: '1s',
    transitionDuration: '300ms',
    transitionProperty: 'bottom',
    width: '100%'
  });
};

var createScrollBarHandlerCSS = function createScrollBarHandlerCSS(_ref5) {
  var height = _ref5.height;
  return (0, _glamor.css)({
    backdropFilter: 'blur(4px)',
    background: 'rgba(255, 255, 255, .4)',
    borderRadius: height / 2,
    height: height
  });
};

function createBasicStyleSet() {
  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      _ref6$autoHide = _ref6.autoHide,
      autoHide = _ref6$autoHide === void 0 ? true : _ref6$autoHide,
      _ref6$autoHideFlipper = _ref6.autoHideFlipperOnEdge,
      autoHideFlipperOnEdge = _ref6$autoHideFlipper === void 0 ? true : _ref6$autoHideFlipper,
      _ref6$cursor = _ref6.cursor,
      cursor = _ref6$cursor === void 0 ? 'pointer' : _ref6$cursor,
      _ref6$dotBoxSize = _ref6.dotBoxSize,
      dotBoxSize = _ref6$dotBoxSize === void 0 ? DOT_BOX_SIZE : _ref6$dotBoxSize,
      _ref6$dotSize = _ref6.dotSize,
      dotSize = _ref6$dotSize === void 0 ? DOT_SIZE : _ref6$dotSize,
      _ref6$flipperBoxWidth = _ref6.flipperBoxWidth,
      flipperBoxWidth = _ref6$flipperBoxWidth === void 0 ? FLIPPER_BOX_WIDTH : _ref6$flipperBoxWidth,
      _ref6$flipperSize = _ref6.flipperSize,
      flipperSize = _ref6$flipperSize === void 0 ? FLIPPER_SIZE : _ref6$flipperSize,
      _ref6$scrollBarHeight = _ref6.scrollBarHeight,
      scrollBarHeight = _ref6$scrollBarHeight === void 0 ? SCROLL_BAR_HEIGHT : _ref6$scrollBarHeight,
      _ref6$scrollBarMargin = _ref6.scrollBarMargin,
      scrollBarMargin = _ref6$scrollBarMargin === void 0 ? SCROLL_BAR_MARGIN : _ref6$scrollBarMargin;

  var styles = {
    carousel: '',
    dotsBox: createDotsBoxCSS({
      height: dotBoxSize
    }),
    dotsItem: createDotsItemCSS({
      boxSize: dotBoxSize,
      cursor: cursor,
      size: dotSize
    }),
    leftFlipper: createLeftFlipperCSS({
      boxWidth: flipperBoxWidth,
      cursor: cursor,
      size: flipperSize
    }),
    rightFlipper: createRightFlipperCSS({
      boxWidth: flipperBoxWidth,
      cursor: cursor,
      size: flipperSize
    }),
    scrollBarBox: createScrollBarBoxCSS({
      margin: scrollBarMargin
    }),
    scrollBarHandler: createScrollBarHandlerCSS({
      height: scrollBarHeight
    })
  }; // This is for overriding existing rules with auto-hide CSS transitions

  if (autoHide) {
    var _hoverScrolling;

    var flipperOverrides = {
      position: 'absolute',
      top: 0,
      transitionDelay: '1s',
      transitionDuration: '300ms'
    };
    styles.leftFlipper = (0, _glamor.css)(styles.leftFlipper, _defineProperty({
      '& > div.slider': _objectSpread({}, flipperOverrides, {
        left: (FLIPPER_BOX_WIDTH + FLIPPER_SIZE) / -2,
        transitionProperty: 'left'
      })
    }, "&:focus".concat(autoHideFlipperOnEdge ? ':not(.hide)' : '', " > div.slider"), {
      left: 0,
      transitionDelay: '0s'
    }));
    styles.rightFlipper = (0, _glamor.css)(styles.rightFlipper, _defineProperty({
      '& > div.slider': _objectSpread({}, flipperOverrides, {
        right: (FLIPPER_BOX_WIDTH + FLIPPER_SIZE) / -2,
        transitionProperty: 'right'
      })
    }, "&:focus".concat(autoHideFlipperOnEdge ? ':not(.hide)' : '', " > div.slider"), {
      right: 0,
      transitionDelay: '0s'
    }));
    styles.scrollBarBox = (0, _glamor.css)(styles.scrollBarBox, {
      bottom: -30,
      transitionDelay: '1s',
      transitionDuration: '300ms',
      transitionProperty: 'bottom'
    }); // The auto-hide state is defined in arch-style (carousel) for its `hover` pseudo class

    styles.carousel = (0, _glamor.css)({
      '&:hover, &.scrolling': (_hoverScrolling = {}, _defineProperty(_hoverScrolling, "& .".concat(styles.scrollBarBox + '', ", & .").concat(styles.leftFlipper + '', " > div.slider, & .").concat(styles.rightFlipper + '', " > div.slider"), {
        // Controls show up as soon as the user hover on it
        transitionDelay: '0s'
      }), _defineProperty(_hoverScrolling, "& .".concat(styles.scrollBarBox + ''), {
        bottom: 0
      }), _defineProperty(_hoverScrolling, "& .".concat(styles.leftFlipper + '').concat(autoHideFlipperOnEdge ? ':not(.hide)' : '', " > div.slider"), {
        left: 0
      }), _defineProperty(_hoverScrolling, "& .".concat(styles.rightFlipper + '').concat(autoHideFlipperOnEdge ? ':not(.hide)' : '', " > div.slider"), {
        right: 0
      }), _hoverScrolling)
    });
  }

  return styles;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVCYXNpY1N0eWxlU2V0LmpzIl0sIm5hbWVzIjpbIkRPVF9CT1hfU0laRSIsIkRPVF9TSVpFIiwiY3JlYXRlRG90c0JveENTUyIsImhlaWdodCIsImFsaWduSXRlbXMiLCJib3R0b20iLCJqdXN0aWZ5Q29udGVudCIsIndpZHRoIiwiY3JlYXRlRG90c0l0ZW1DU1MiLCJib3hTaXplIiwiY3Vyc29yIiwic2l6ZSIsImRpc3BsYXkiLCJsZWZ0IiwibWFyZ2luIiwib3BhY2l0eSIsInBvc2l0aW9uIiwidXNlclNlbGVjdCIsInRvcCIsInRvdWNoQWN0aW9uIiwiYmFja2dyb3VuZCIsImJvcmRlclJhZGl1cyIsIkZMSVBQRVJfQk9YX1dJRFRIIiwiRkxJUFBFUl9TSVpFIiwiY3JlYXRlRmxpcHBlckJveENTUyIsImJveFdpZHRoIiwib3ZlcmZsb3ciLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImZvbnRGYW1pbHkiLCJtYXAiLCJmb250Iiwiam9pbiIsImZvbnRTaXplIiwibGluZUhlaWdodCIsInRyYW5zaXRpb25Qcm9wZXJ0eSIsImNyZWF0ZUxlZnRGbGlwcGVyQ1NTIiwib3B0aW9ucyIsImNyZWF0ZVJpZ2h0RmxpcHBlckNTUyIsInJpZ2h0IiwiU0NST0xMX0JBUl9IRUlHSFQiLCJTQ1JPTExfQkFSX01BUkdJTiIsImNyZWF0ZVNjcm9sbEJhckJveENTUyIsInBhZGRpbmciLCJ0cmFuc2l0aW9uRGVsYXkiLCJjcmVhdGVTY3JvbGxCYXJIYW5kbGVyQ1NTIiwiYmFja2Ryb3BGaWx0ZXIiLCJjcmVhdGVCYXNpY1N0eWxlU2V0IiwiYXV0b0hpZGUiLCJhdXRvSGlkZUZsaXBwZXJPbkVkZ2UiLCJkb3RCb3hTaXplIiwiZG90U2l6ZSIsImZsaXBwZXJCb3hXaWR0aCIsImZsaXBwZXJTaXplIiwic2Nyb2xsQmFySGVpZ2h0Iiwic2Nyb2xsQmFyTWFyZ2luIiwic3R5bGVzIiwiY2Fyb3VzZWwiLCJkb3RzQm94IiwiZG90c0l0ZW0iLCJsZWZ0RmxpcHBlciIsInJpZ2h0RmxpcHBlciIsInNjcm9sbEJhckJveCIsInNjcm9sbEJhckhhbmRsZXIiLCJmbGlwcGVyT3ZlcnJpZGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7O0FBRUEsSUFBTUEsWUFBWSxHQUFHLEVBQXJCO0FBQ0EsSUFBTUMsUUFBUSxHQUFHLENBQWpCOztBQUVBLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUI7QUFBQSxNQUFHQyxNQUFILFFBQUdBLE1BQUg7QUFBQSxTQUFnQixpQkFBSTtBQUMzQ0MsSUFBQUEsVUFBVSxFQUFFLFFBRCtCO0FBRTNDQyxJQUFBQSxNQUFNLEVBQUUsQ0FGbUM7QUFHM0NGLElBQUFBLE1BQU0sRUFBTkEsTUFIMkM7QUFJM0NHLElBQUFBLGNBQWMsRUFBRSxRQUoyQjtBQUszQ0MsSUFBQUEsS0FBSyxFQUFFO0FBTG9DLEdBQUosQ0FBaEI7QUFBQSxDQUF6Qjs7QUFRQSxJQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CO0FBQUEsTUFBR0MsT0FBSCxTQUFHQSxPQUFIO0FBQUEsTUFBWUMsTUFBWixTQUFZQSxNQUFaO0FBQUEsTUFBb0JDLElBQXBCLFNBQW9CQSxJQUFwQjtBQUFBLFNBQStCLGlCQUFJO0FBQzNEUCxJQUFBQSxVQUFVLEVBQUUsUUFEK0M7QUFFM0RRLElBQUFBLE9BQU8sRUFBRSxNQUZrRDtBQUczRFQsSUFBQUEsTUFBTSxFQUFFTSxPQUhtRDtBQUkzREgsSUFBQUEsY0FBYyxFQUFFLFFBSjJDO0FBSzNEQyxJQUFBQSxLQUFLLEVBQUVFLE9BTG9EO0FBTzNELG1DQUNLQyxNQUFNLEdBQUc7QUFBRUEsTUFBQUEsTUFBTSxFQUFOQTtBQUFGLEtBQUgsR0FBZ0IsRUFEM0I7QUFHRVAsTUFBQUEsTUFBTSxFQUFFLE1BSFY7QUFJRVUsTUFBQUEsSUFBSSxFQUFFLENBSlI7QUFLRUMsTUFBQUEsTUFBTSxFQUFFLENBTFY7QUFNRUMsTUFBQUEsT0FBTyxFQUFF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REFVVXFELE1BQU0sQ0FBQ0ksV0FBUCxHQUFxQixFQVYvQixTQVVzQ1gscUJBQXFCLEdBQUcsYUFBSCxHQUFtQixFQVY5RSxvQkFVbUc7QUFDL0Z0QyxRQUFBQSxJQUFJLEVBQUU7QUFEeUYsT0FWbkcsaURBY1U2QyxNQUFNLENBQUNLLFlBQVAsR0FBc0IsRUFkaEMsU0FjdUNaLHFCQUFxQixHQUFHLGFBQUgsR0FBbUIsRUFkL0Usb0JBY29HO0FBQ2hHVixRQUFBQSxLQUFLLEVBQUU7QUFEeUYsT0FkcEc7QUFEb0IsS0FBSixDQUFsQjtBQW9CRDs7QUFFRCxTQUFPaUIsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJztcblxuY29uc3QgRE9UX0JPWF9TSVpFID0gMjA7XG5jb25zdCBET1RfU0laRSA9IDY7XG5cbmNvbnN0IGNyZWF0ZURvdHNCb3hDU1MgPSAoeyBoZWlnaHQgfSkgPT4gY3NzKHtcbiAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gIGJvdHRvbTogMCxcbiAgaGVpZ2h0LFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIHdpZHRoOiAnMTAwJSdcbn0pO1xuXG5jb25zdCBjcmVhdGVEb3RzSXRlbUNTUyA9ICh7IGJveFNpemUsIGN1cnNvciwgc2l6ZSB9KSA9PiBjc3Moe1xuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBoZWlnaHQ6IGJveFNpemUsXG4gIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgd2lkdGg6IGJveFNpemUsXG5cbiAgJyYgPiBpbnB1dCc6IHtcbiAgICAuLi5jdXJzb3IgPyB7IGN1cnNvciB9IDoge30sXG5cbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBsZWZ0OiAwLFxuICAgIG1hcmdpbjogMCxcbiAgICBvcGFjaXR5OiAwLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICB0b3A6IDAsXG4gICAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgICB3aWR0aDogJzEwMCUnXG4gIH0sXG5cbiAgJyYgPiBkaXYnOiB7XG4gICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgLjIpJyxcbiAgICBib3JkZXJSYWRpdXM6IHNpemUgLyAyLFxuICAgIGhlaWdodDogc2l6ZSxcbiAgICB3aWR0aDogc2l6ZVxuICB9LFxuXG4gICcmOmhvdmVyID4gZGl2LCAmID4gaW5wdXQ6Zm9jdXMgKyBkaXYnOiB7XG4gICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgLjQpJ1xuICB9LFxuXG4gICcmID4gaW5wdXQ6YWN0aXZlICsgZGl2Jzoge1xuICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIC44KSdcbiAgfSxcblxuICAnJiA+IGlucHV0OmNoZWNrZWQ6bm90KDphY3RpdmUpICsgZGl2Jzoge1xuICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIC42KSdcbiAgfVxufSk7XG5cbmNvbnN0IEZMSVBQRVJfQk9YX1dJRFRIID0gNjA7XG5jb25zdCBGTElQUEVSX1NJWkUgPSA0MDtcblxuY29uc3QgY3JlYXRlRmxpcHBlckJveENTUyA9ICh7IGJveFdpZHRoLCBjdXJzb3IsIHNpemUgfSkgPT4gY3NzKHtcbiAgLi4uY3Vyc29yID8geyBjdXJzb3IgfSA6IHt9LFxuXG4gIGJhY2tncm91bmQ6ICdUcmFuc3BhcmVudCcsXG4gIGhlaWdodDogJzEwMCUnLFxuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gIHRvcDogMCxcbiAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMzAwbXMnLFxuICB3aWR0aDogYm94V2lkdGgsXG4gIHpJbmRleDogMSxcblxuICAnJiA+IGRpdi5zbGlkZXInOiB7XG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IDAsXG4gICAgd2lkdGg6ICcxMDAlJyxcblxuICAgICcmID4gZGl2Jzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAuNiknLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAuNiknLFxuICAgICAgZm9udEZhbWlseTogWydDb25zb2xhcycsICdtb25vc3BhY2UnXS5tYXAoZm9udCA9PiBgJyR7IGZvbnQgfSdgKS5qb2luKCcsICcpLFxuICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgbGluZUhlaWdodDogYCR7IHNpemUgfXB4YCxcbiAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogJ2JhY2tncm91bmQtY29sb3InLFxuICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMTAwbXMnLFxuICAgICAgd2lkdGg6IHNpemVcbiAgICB9XG4gIH0sXG5cbiAgJyY6aG92ZXIsICY6Zm9jdXMnOiB7XG4gICAgJyYgPiBkaXYuc2xpZGVyID4gZGl2Jzoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLCAwLCAwLCAuOCknLFxuICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIC44KScsXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb246IDBcbiAgICB9XG4gIH0sXG5cbiAgJyY6YWN0aXZlID4gZGl2LnNsaWRlciA+IGRpdic6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdCbGFjaycsXG4gICAgY29sb3I6ICdXaGl0ZScsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwXG4gIH1cbn0pO1xuXG5jb25zdCBjcmVhdGVMZWZ0RmxpcHBlckNTUyA9IG9wdGlvbnMgPT4gY3NzKHtcbiAgbGVmdDogMCxcbiAgdHJhbnNpdGlvblByb3BlcnR5OiAnbGVmdCcsXG5cbiAgJyYgPiBkaXYuc2xpZGVyJzoge1xuICAgIGxlZnQ6IDBcbiAgfVxufSwgY3JlYXRlRmxpcHBlckJveENTUyhvcHRpb25zKSk7XG5cbmNvbnN0IGNyZWF0ZVJpZ2h0RmxpcHBlckNTUyA9IG9wdGlvbnMgPT4gY3NzKHtcbiAgcmlnaHQ6IDAsXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogJ3JpZ2h0JyxcblxuICAnJiA+IGRpdi5zbGlkZXInOiB7XG4gICAgcmlnaHQ6IDBcbiAgfVxufSwgY3JlYXRlRmxpcHBlckJveENTUyhvcHRpb25zKSk7XG5cbmNvbnN0IFNDUk9MTF9CQVJfSEVJR0hUID0gODtcbmNvbnN0IFNDUk9MTF9CQVJfTUFSR0lOID0gNDtcblxuY29uc3QgY3JlYXRlU2Nyb2xsQmFyQm94Q1NTID0gKHsgbWFyZ2luIH0pID0+IGNzcyh7XG4gIGJvdHRvbTogMCxcbiAgcGFkZGluZzogbWFyZ2luLFxuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdHJhbnNpdGlvbkRlbGF5OiAnMXMnLFxuICB0cmFuc2l0aW9uRHVyYXRpb246ICczMDBtcycsXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogJ2JvdHRvbScsXG4gIHdpZHRoOiAnMTAwJSdcbn0pO1xuXG5jb25zdCBjcmVhdGVTY3JvbGxCYXJIYW5kbGVyQ1NTID0gKHsgaGVpZ2h0IH0pID0+IGNzcyh7XG4gIGJhY2tkcm9wRmlsdGVyOiAnYmx1cig0cHgpJyxcbiAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgLjQpJyxcbiAgYm9yZGVyUmFkaXVzOiBoZWlnaHQgLyAyLFxuICBoZWlnaHRcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVCYXNpY1N0eWxlU2V0KHtcbiAgYXV0b0hpZGUgICAgICAgICAgICAgID0gdHJ1ZSxcbiAgYXV0b0hpZGVGbGlwcGVyT25FZGdlID0gdHJ1ZSxcbiAgY3Vyc29yICAgICAgICAgICAgICAgID0gJ3BvaW50ZXInLFxuICBkb3RCb3hTaXplICAgICAgICAgICAgPSBET1RfQk9YX1NJWkUsXG4gIGRvdFNpemUgICAgICAgICAgICAgICA9IERPVF9TSVpFLFxuICBmbGlwcGVyQm94V2lkdGggICAgICAgPSBGTElQUEVSX0JPWF9XSURUSCxcbiAgZmxpcHBlclNpemUgICAgICAgICAgID0gRkxJUFBFUl9TSVpFLFxuICBzY3JvbGxCYXJIZWlnaHQgICAgICAgPSBTQ1JPTExfQkFSX0hFSUdIVCxcbiAgc2Nyb2xsQmFyTWFyZ2luICAgICAgID0gU0NST0xMX0JBUl9NQVJHSU5cbn0gPSB7fSkge1xuICBjb25zdCBzdHlsZXMgPSB7XG4gICAgY2Fyb3VzZWwgICAgICAgIDogJycsXG4gICAgZG90c0JveCAgICAgICAgIDogY3JlYXRlRG90c0JveENTUyh7IGhlaWdodDogZG90Qm94U2l6ZSB9KSxcbiAgICBkb3RzSXRlbSAgICAgICAgOiBjcmVhdGVEb3RzSXRlbUNTUyh7IGJveFNpemU6IGRvdEJveFNpemUsIGN1cnNvciwgc2l6ZTogZG90U2l6ZSB9KSxcbiAgICBsZWZ0RmxpcHBlciAgICAgOiBjcmVhdGVMZWZ0RmxpcHBlckNTUyh7IGJveFdpZHRoOiBmbGlwcGVyQm94V2lkdGgsIGN1cnNvciwgc2l6ZTogZmxpcHBlclNpemUgfSksXG4gICAgcmlnaHRGbGlwcGVyICAgIDogY3JlYXRlUmlnaHRGbGlwcGVyQ1NTKHsgYm94V2lkdGg6IGZsaXBwZXJCb3hXaWR0aCwgY3Vyc29yLCBzaXplOiBmbGlwcGVyU2l6ZSB9KSxcbiAgICBzY3JvbGxCYXJCb3ggICAgOiBjcmVhdGVTY3JvbGxCYXJCb3hDU1MoeyBtYXJnaW46IHNjcm9sbEJhck1hcmdpbiB9KSxcbiAgICBzY3JvbGxCYXJIYW5kbGVyOiBjcmVhdGVTY3JvbGxCYXJIYW5kbGVyQ1NTKHsgaGVpZ2h0OiBzY3JvbGxCYXJIZWlnaHQgfSlcbiAgfTtcblxuICAvLyBUaGlzIGlzIGZvciBvdmVycmlkaW5nIGV4aXN0aW5nIHJ1bGVzIHdpdGggYXV0by1oaWRlIENTUyB0cmFuc2l0aW9uc1xuICBpZiAoYXV0b0hpZGUpIHtcbiAgICBjb25zdCBmbGlwcGVyT3ZlcnJpZGVzID0ge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICB0cmFuc2l0aW9uRGVsYXk6ICcxcycsXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb246ICczMDBtcydcbiAgICB9O1xuXG4gICAgc3R5bGVzLmxlZnRGbGlwcGVyID0gY3NzKHN0eWxlcy5sZWZ0RmxpcHBlciwge1xuICAgICAgJyYgPiBkaXYuc2xpZGVyJzoge1xuICAgICAgICAuLi5mbGlwcGVyT3ZlcnJpZGVzLFxuICAgICAgICBsZWZ0OiAoRkxJUFBFUl9CT1hfV0lEVEggKyBGTElQUEVSX1NJWkUpIC8gLTIsXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogJ2xlZnQnXG4gICAgICB9LFxuXG4gICAgICBbYCY6Zm9jdXMkeyBhdXRvSGlkZUZsaXBwZXJPbkVkZ2UgPyAnOm5vdCguaGlkZSknIDogJycgfSA+IGRpdi5zbGlkZXJgXToge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0cmFuc2l0aW9uRGVsYXk6ICcwcydcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0eWxlcy5yaWdodEZsaXBwZXIgPSBjc3Moc3R5bGVzLnJpZ2h0RmxpcHBlciwge1xuICAgICAgJyYgPiBkaXYuc2xpZGVyJzoge1xuICAgICAgICAuLi5mbGlwcGVyT3ZlcnJpZGVzLFxuICAgICAgICByaWdodDogKEZMSVBQRVJfQk9YX1dJRFRIICsgRkxJUFBFUl9TSVpFKSAvIC0yLFxuICAgICAgICB0cmFuc2l0aW9uUHJvcGVydHk6ICdyaWdodCdcbiAgICAgIH0sXG5cbiAgICAgIFtgJjpmb2N1cyR7IGF1dG9IaWRlRmxpcHBlck9uRWRnZSA/ICc6bm90KC5oaWRlKScgOiAnJyB9ID4gZGl2LnNsaWRlcmBdOiB7XG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB0cmFuc2l0aW9uRGVsYXk6ICcwcydcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0eWxlcy5zY3JvbGxCYXJCb3ggPSBjc3Moc3R5bGVzLnNjcm9sbEJhckJveCwge1xuICAgICAgYm90dG9tOiAtMzAsXG4gICAgICB0cmFuc2l0aW9uRGVsYXk6ICcxcycsXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb246ICczMDBtcycsXG4gICAgICB0cmFuc2l0aW9uUHJvcGVydHk6ICdib3R0b20nXG4gICAgfSk7XG5cbiAgICAvLyBUaGUgYXV0by1oaWRlIHN0YXRlIGlzIGRlZmluZWQgaW4gYXJjaC1zdHlsZSAoY2Fyb3VzZWwpIGZvciBpdHMgYGhvdmVyYCBwc2V1ZG8gY2xhc3NcbiAgICBzdHlsZXMuY2Fyb3VzZWwgPSBjc3Moe1xuICAgICAgJyY6aG92ZXIsICYuc2Nyb2xsaW5nJzoge1xuICAgICAgICBbYCYgLiR7IHN0eWxlcy5zY3JvbGxCYXJCb3ggKyAnJyB9LCAmIC4keyBzdHlsZXMubGVmdEZsaXBwZXIgKyAnJyB9ID4gZGl2LnNsaWRlciwgJiAuJHsgc3R5bGVzLnJpZ2h0RmxpcHBlciArICcnIH0gPiBkaXYuc2xpZGVyYF06IHtcbiAgICAgICAgICAvLyBDb250cm9scyBzaG93IHVwIGFzIHNvb24gYXMgdGhlIHVzZXIgaG92ZXIgb24gaXRcbiAgICAgICAgICB0cmFuc2l0aW9uRGVsYXk6ICcwcydcbiAgICAgICAgfSxcblxuICAgICAgICBbYCYgLiR7IHN0eWxlcy5zY3JvbGxCYXJCb3ggKyAnJyB9YF06IHtcbiAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfSxcblxuICAgICAgICBbYCYgLiR7IHN0eWxlcy5sZWZ0RmxpcHBlciArICcnIH0keyBhdXRvSGlkZUZsaXBwZXJPbkVkZ2UgPyAnOm5vdCguaGlkZSknIDogJycgfSA+IGRpdi5zbGlkZXJgXToge1xuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfSxcblxuICAgICAgICBbYCYgLiR7IHN0eWxlcy5yaWdodEZsaXBwZXIgKyAnJyB9JHsgYXV0b0hpZGVGbGlwcGVyT25FZGdlID8gJzpub3QoLmhpZGUpJyA6ICcnIH0gPiBkaXYuc2xpZGVyYF06IHtcbiAgICAgICAgICByaWdodDogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGVzO1xufVxuIl19