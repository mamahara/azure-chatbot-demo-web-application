"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _glamor = require("glamor");

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _Surface = _interopRequireDefault(require("./Utils/AccessKeySink/Surface"));

var _BasicConnectivityStatus = _interopRequireDefault(require("./BasicConnectivityStatus"));

var _BasicSendBox = _interopRequireDefault(require("./BasicSendBox"));

var _BasicToaster = _interopRequireDefault(require("./BasicToaster"));

var _BasicTranscript = _interopRequireDefault(require("./BasicTranscript"));

var _TypeFocusSink = _interopRequireDefault(require("./Utils/TypeFocusSink"));

var _useDisabled3 = _interopRequireDefault(require("./hooks/useDisabled"));

var _useSendBoxFocusRef3 = _interopRequireDefault(require("./hooks/internal/useSendBoxFocusRef"));

var _useStyleOptions3 = _interopRequireDefault(require("./hooks/useStyleOptions"));

var _useStyleSet3 = _interopRequireDefault(require("./hooks/useStyleSet"));

var _useTranscriptFocusRef = _interopRequireDefault(require("./hooks/internal/useTranscriptFocusRef"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var ROOT_CSS = (0, _glamor.css)({
  display: 'flex',
  flexDirection: 'column'
});
var SINK_CSS = (0, _glamor.css)({
  display: 'flex',
  flex: 1,
  flexDirection: 'column',
  overflow: 'hidden'
});
var CONNECTIVITY_STATUS_CSS = (0, _glamor.css)({
  flexShrink: 0
});
var SEND_BOX_CSS = (0, _glamor.css)({
  flexShrink: 0
});
var TOASTER_CSS = (0, _glamor.css)({
  flexShrink: 0
});
var TRANSCRIPT_CSS = (0, _glamor.css)({
  flex: 1
});

var BasicWebChat = function BasicWebChat(_ref) {
  var className = _ref.className;

  var _useStyleSet = (0, _useStyleSet3.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      rootStyleSet = _useStyleSet2[0].root;

  var _useDisabled = (0, _useDisabled3.default)(),
      _useDisabled2 = _slicedToArray(_useDisabled, 1),
      disabled = _useDisabled2[0];

  var _useStyleOptions = (0, _useStyleOptions3.default)(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      options = _useStyleOptions2[0];

  var _useSendBoxFocusRef = (0, _useSendBoxFocusRef3.default)(),
      _useSendBoxFocusRef2 = _slicedToArray(_useSendBoxFocusRef, 1),
      sendBoxFocusRef = _useSendBoxFocusRef2[0];

  var _useTranscriptFocusRe = (0, _useTranscriptFocusRef.default)(),
      _useTranscriptFocusRe2 = _slicedToArray(_useTranscriptFocusRe, 1),
      transcriptFocusRef = _useTranscriptFocusRe2[0];

  return /*#__PURE__*/_react.default.createElement(_Surface.default, {
    className: (0, _classnames.default)(ROOT_CSS + '', rootStyleSet + '', className + '')
  }, /*#__PURE__*/_react.default.createElement(_TypeFocusSink.default, {
    className: SINK_CSS + '',
    disabled: disabled,
    ref: transcriptFocusRef,
    role: "complementary",
    sendFocusRef: sendBoxFocusRef
  }, !options.hideToaster && /*#__PURE__*/_react.default.createElement(_BasicToaster.default, {
    className: TOASTER_CSS + ''
  }), /*#__PURE__*/_react.default.createElement(_BasicTranscript.default, {
    className: TRANSCRIPT_CSS + ''
  }), /*#__PURE__*/_react.default.createElement(_BasicConnectivityStatus.default, {
    className: CONNECTIVITY_STATUS_CSS + ''
  }), !options.hideSendBox && /*#__PURE__*/_react.default.createElement(_BasicSendBox.default, {
    className: SEND_BOX_CSS + ''
  })));
};

var _default = BasicWebChat;
exports.default = _default;
BasicWebChat.defaultProps = {
  className: ''
};
BasicWebChat.propTypes = {
  className: _propTypes.default.string
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1dlYkNoYXQuanMiXSwibmFtZXMiOlsiUk9PVF9DU1MiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsIlNJTktfQ1NTIiwiZmxleCIsIm92ZXJmbG93IiwiQ09OTkVDVElWSVRZX1NUQVRVU19DU1MiLCJmbGV4U2hyaW5rIiwiU0VORF9CT1hfQ1NTIiwiVE9BU1RFUl9DU1MiLCJUUkFOU0NSSVBUX0NTUyIsIkJhc2ljV2ViQ2hhdCIsImNsYXNzTmFtZSIsInJvb3RTdHlsZVNldCIsInJvb3QiLCJkaXNhYmxlZCIsIm9wdGlvbnMiLCJzZW5kQm94Rm9jdXNSZWYiLCJ0cmFuc2NyaXB0Rm9jdXNSZWYiLCJoaWRlVG9hc3RlciIsImhpZGVTZW5kQm94IiwiZGVmYXVsdFByb3BzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxRQUFRLEdBQUcsaUJBQUk7QUFDbkJDLEVBQUFBLE9BQU8sRUFBRSxNQURVO0FBRW5CQyxFQUFBQSxhQUFhLEVBQUU7QUFGSSxDQUFKLENBQWpCO0FBS0EsSUFBTUMsUUFBUSxHQUFHLGlCQUFJO0FBQ25CRixFQUFBQSxPQUFPLEVBQUUsTUFEVTtBQUVuQkcsRUFBQUEsSUFBSSxFQUFFLENBRmE7QUFHbkJGLEVBQUFBLGFBQWEsRUFBRSxRQUhJO0FBSW5CRyxFQUFBQSxRQUFRLEVBQUU7QUFKUyxDQUFKLENBQWpCO0FBT0EsSUFBTUMsdUJBQXVCLEdBQUcsaUJBQUk7QUFDbENDLEVBQUFBLFVBQVUsRUFBRTtBQURzQixDQUFKLENBQWhDO0FBSUEsSUFBTUMsWUFBWSxHQUFHLGlCQUFJO0FBQ3ZCRCxFQUFBQSxVQUFVLEVBQUU7QUFEVyxDQUFKLENBQXJCO0FBSUEsSUFBTUUsV0FBVyxHQUFHLGlCQUFJO0FBQ3RCRixFQUFBQSxVQUFVLEVBQUU7QUFEVSxDQUFKLENBQXBCO0FBSUEsSUFBTUcsY0FBYyxHQUFHLGlCQUFJO0FBQ3pCTixFQUFBQSxJQUFJLEVBQUU7QUFEbUIsQ0FBSixDQUF2Qjs7QUFJQSxJQUFNTyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxPQUFtQjtBQUFBLE1BQWhCQyxTQUFnQixRQUFoQkEsU0FBZ0I7O0FBQUEscUJBQ0wsNEJBREs7QUFBQTtBQUFBLE1BQ3ZCQyxZQUR1QixvQkFDN0JDLElBRDZCOztBQUFBLHFCQUVuQiw0QkFGbUI7QUFBQTtBQUFBLE1BRS9CQyxRQUYrQjs7QUFBQSx5QkFHcEIsZ0NBSG9CO0FBQUE7QUFBQSxNQUcvQkMsT0FIK0I7O0FBQUEsNEJBSVosbUNBSlk7QUFBQTtBQUFBLE1BSS9CQyxlQUorQjs7QUFBQSw4QkFLVCxxQ0FMUztBQUFBO0FBQUEsTUFLL0JDLGtCQUwrQjs7QUFPdEMsc0JBQ0UsNkJBQUMsZ0JBQUQ7QUFBc0IsSUFBQSxTQUFTLEVBQUUseUJBQVdsQixRQUFRLEdBQUcsRUFBdEIsRUFBMEJhLFlBQVksR0FBRyxFQUF6QyxFQUE2Q0QsU0FBUyxHQUFHLEVBQXpEO0FBQWpDLGtCQUNFLDZCQUFDLHNCQUFEO0FBQ0UsSUFBQSxTQUFTLEVBQUVULFFBQVEsR0FBRyxFQUR4QjtBQUVFLElBQUEsUUFBUSxFQUFFWSxRQUZaO0FBR0UsSUFBQSxHQUFHLEVBQUVHLGtCQUhQO0FBSUUsSUFBQSxJQUFJLEVBQUMsZUFKUDtBQUtFLElBQUEsWUFBWSxFQUFFRDtBQUxoQixLQU9HLENBQUNELE9BQU8sQ0FBQ0csV0FBVCxpQkFBd0IsNkJBQUMscUJBQUQ7QUFBYyxJQUFBLFNBQVMsRUFBRVYsV0FBVyxHQUFHO0FBQXZDLElBUDNCLGVBUUUsNkJBQUMsd0JBQUQ7QUFBaUIsSUFBQSxTQUFTLEVBQUVDLGNBQWMsR0FBRztBQUE3QyxJQVJGLGVBU0UsNkJBQUMsZ0NBQUQ7QUFBeUIsSUFBQSxTQUFTLEVBQUVKLHVCQUF1QixHQUFHO0FBQTlELElBVEYsRUFVRyxDQUFDVSxPQUFPLENBQUNJLFdBQVQsaUJBQXdCLDZCQUFDLHFCQUFEO0FBQWMsSUFBQSxTQUFTLEVBQUVaLFlBQVksR0FBRztBQUF4QyxJQVYzQixDQURGLENBREY7QUFnQkQsQ0F2QkQ7O2VBeUJlRyxZOztBQUVmQSxZQUFZLENBQUNVLFlBQWIsR0FBNEI7QUFDMUJULEVBQUFBLFNBQVMsRUFBRTtBQURlLENBQTVCO0FBSUFELFlBQVksQ0FBQ1csU0FBYixHQUF5QjtBQUN2QlYsRUFBQUEsU0FBUyxFQUFFVyxtQkFBVUM7QUFERSxDQUF6QiIsInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLW1hZ2ljLW51bWJlcnM6IFtcImVycm9yXCIsIHsgXCJpZ25vcmVcIjogWzAsIDEsIDJdIH1dICovXG4vKiBlc2xpbnQgcmVhY3Qvbm8tdW5zYWZlOiBvZmYgKi9cblxuaW1wb3J0IHsgY3NzIH0gZnJvbSAnZ2xhbW9yJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBBY2Nlc3NLZXlTaW5rU3VyZmFjZSBmcm9tICcuL1V0aWxzL0FjY2Vzc0tleVNpbmsvU3VyZmFjZSc7XG5pbXBvcnQgQmFzaWNDb25uZWN0aXZpdHlTdGF0dXMgZnJvbSAnLi9CYXNpY0Nvbm5lY3Rpdml0eVN0YXR1cyc7XG5pbXBvcnQgQmFzaWNTZW5kQm94IGZyb20gJy4vQmFzaWNTZW5kQm94JztcbmltcG9ydCBCYXNpY1RvYXN0ZXIgZnJvbSAnLi9CYXNpY1RvYXN0ZXInO1xuaW1wb3J0IEJhc2ljVHJhbnNjcmlwdCBmcm9tICcuL0Jhc2ljVHJhbnNjcmlwdCc7XG5pbXBvcnQgVHlwZUZvY3VzU2lua0JveCBmcm9tICcuL1V0aWxzL1R5cGVGb2N1c1NpbmsnO1xuaW1wb3J0IHVzZURpc2FibGVkIGZyb20gJy4vaG9va3MvdXNlRGlzYWJsZWQnO1xuaW1wb3J0IHVzZVNlbmRCb3hGb2N1c1JlZiBmcm9tICcuL2hvb2tzL2ludGVybmFsL3VzZVNlbmRCb3hGb2N1c1JlZic7XG5pbXBvcnQgdXNlU3R5bGVPcHRpb25zIGZyb20gJy4vaG9va3MvdXNlU3R5bGVPcHRpb25zJztcbmltcG9ydCB1c2VTdHlsZVNldCBmcm9tICcuL2hvb2tzL3VzZVN0eWxlU2V0JztcbmltcG9ydCB1c2VUcmFuc2NyaXB0Rm9jdXNSZWYgZnJvbSAnLi9ob29rcy9pbnRlcm5hbC91c2VUcmFuc2NyaXB0Rm9jdXNSZWYnO1xuXG5jb25zdCBST09UX0NTUyA9IGNzcyh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbn0pO1xuXG5jb25zdCBTSU5LX0NTUyA9IGNzcyh7XG4gIGRpc3BsYXk6ICdmbGV4JyxcbiAgZmxleDogMSxcbiAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gIG92ZXJmbG93OiAnaGlkZGVuJ1xufSk7XG5cbmNvbnN0IENPTk5FQ1RJVklUWV9TVEFUVVNfQ1NTID0gY3NzKHtcbiAgZmxleFNocmluazogMFxufSk7XG5cbmNvbnN0IFNFTkRfQk9YX0NTUyA9IGNzcyh7XG4gIGZsZXhTaHJpbms6IDBcbn0pO1xuXG5jb25zdCBUT0FTVEVSX0NTUyA9IGNzcyh7XG4gIGZsZXhTaHJpbms6IDBcbn0pO1xuXG5jb25zdCBUUkFOU0NSSVBUX0NTUyA9IGNzcyh7XG4gIGZsZXg6IDFcbn0pO1xuXG5jb25zdCBCYXNpY1dlYkNoYXQgPSAoeyBjbGFzc05hbWUgfSkgPT4ge1xuICBjb25zdCBbeyByb290OiByb290U3R5bGVTZXQgfV0gPSB1c2VTdHlsZVNldCgpO1xuICBjb25zdCBbZGlzYWJsZWRdID0gdXNlRGlzYWJsZWQoKTtcbiAgY29uc3QgW29wdGlvbnNdID0gdXNlU3R5bGVPcHRpb25zKCk7XG4gIGNvbnN0IFtzZW5kQm94Rm9jdXNSZWZdID0gdXNlU2VuZEJveEZvY3VzUmVmKCk7XG4gIGNvbnN0IFt0cmFuc2NyaXB0Rm9jdXNSZWZdID0gdXNlVHJhbnNjcmlwdEZvY3VzUmVmKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8QWNjZXNzS2V5U2lua1N1cmZhY2UgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFJPT1RfQ1NTICsgJycsIHJvb3RTdHlsZVNldCArICcnLCBjbGFzc05hbWUgKyAnJyl9PlxuICAgICAgPFR5cGVGb2N1c1NpbmtCb3hcbiAgICAgICAgY2xhc3NOYW1lPXtTSU5LX0NTUyArICcnfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIHJlZj17dHJhbnNjcmlwdEZvY3VzUmVmfVxuICAgICAgICByb2xlPVwiY29tcGxlbWVudGFyeVwiXG4gICAgICAgIHNlbmRGb2N1c1JlZj17c2VuZEJveEZvY3VzUmVmfVxuICAgICAgPlxuICAgICAgICB7IW9wdGlvbnMuaGlkZVRvYXN0ZXIgJiYgPEJhc2ljVG9hc3RlciBjbGFzc05hbWU9e1RPQVNURVJfQ1NTICsgJyd9IC8+fVxuICAgICAgICA8QmFzaWNUcmFuc2NyaXB0IGNsYXNzTmFtZT17VFJBTlNDUklQVF9DU1MgKyAnJ30gLz5cbiAgICAgICAgPEJhc2ljQ29ubmVjdGl2aXR5U3RhdHVzIGNsYXNzTmFtZT17Q09OTkVDVElWSVRZX1NUQVRVU19DU1MgKyAnJ30gLz5cbiAgICAgICAgeyFvcHRpb25zLmhpZGVTZW5kQm94ICYmIDxCYXNpY1NlbmRCb3ggY2xhc3NOYW1lPXtTRU5EX0JPWF9DU1MgKyAnJ30gLz59XG4gICAgICA8L1R5cGVGb2N1c1NpbmtCb3g+XG4gICAgPC9BY2Nlc3NLZXlTaW5rU3VyZmFjZT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2ljV2ViQ2hhdDtcblxuQmFzaWNXZWJDaGF0LmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJ1xufTtcblxuQmFzaWNXZWJDaGF0LnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuIl19