"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectCarouselFilmStrip = exports.default = void 0;

var _glamor = require("glamor");

var _reactFilm = require("react-film");

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _Bubble = _interopRequireDefault(require("./Bubble"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

var _isZeroOrPositive = _interopRequireDefault(require("../Utils/isZeroOrPositive"));

var _ScreenReaderText = _interopRequireDefault(require("../ScreenReaderText"));

var _textFormatToContentType = _interopRequireDefault(require("../Utils/textFormatToContentType"));

var _useAvatarForBot3 = _interopRequireDefault(require("../hooks/useAvatarForBot"));

var _useAvatarForUser3 = _interopRequireDefault(require("../hooks/useAvatarForUser"));

var _useDirection3 = _interopRequireDefault(require("../hooks/useDirection"));

var _useLocalizer = _interopRequireDefault(require("../hooks/useLocalizer"));

var _useStyleOptions3 = _interopRequireDefault(require("../hooks/useStyleOptions"));

var _useStyleSet3 = _interopRequireDefault(require("../hooks/useStyleSet"));

var _useUniqueId = _interopRequireDefault(require("../hooks/internal/useUniqueId"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var ROOT_CSS = (0, _glamor.css)({
  '&.webchat__carousel-layout': {
    display: 'flex',
    flexDirection: 'column',
    MsOverflowStyle: 'none',
    overflowX: 'scroll',
    overflowY: 'hidden',
    position: 'relative',
    // This is to keep screen reader text in the destinated area.
    touchAction: 'manipulation',
    WebkitOverflowScrolling: 'touch',
    '&::-webkit-scrollbar': {
      display: 'none'
    },
    '& .webchat__carousel-layout__alignment-pad': {
      flexShrink: 0
    },
    '& .webchat__carousel-layout__attachment': {
      flex: 1
    },
    '& .webchat__carousel-layout__attachments': {
      display: 'flex',
      listStyleType: 'none',
      margin: 0,
      padding: 0
    },
    '& .webchat__carousel-layout__avatar': {
      flexShrink: 0
    },
    '& .webchat__carousel-layout__avatar-gutter': {
      display: 'flex',
      flexDirection: 'column',
      flexShrink: 0
    },
    '& .webchat__carousel-layout__complimentary': {
      display: 'flex'
    },
    '& .webchat__carousel-layout__complimentary-content': {
      display: 'flex',
      flexGrow: 1,
      flexDirection: 'column'
    },
    '& .webchat__carousel-layout__content': {
      display: 'flex',
      flexGrow: 1,
      flexDirection: 'column'
    },
    '& .webchat__carousel-layout__filler': {
      flexGrow: 10000,
      flexShrink: 1
    },
    '& .webchat__carousel-layout__main': {
      display: 'flex'
    },
    '& .webchat__carousel-layout__message': {
      display: 'flex'
    },
    '& .webchat__carousel-layout__nub-pad': {
      flexShrink: 0
    },
    '& .webchat__carousel-layout__status': {
      display: 'flex'
    }
  }
});

var connectCarouselFilmStrip = function connectCarouselFilmStrip() {
  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(void 0, [function (_ref, _ref2) {
    var language = _ref.language,
        _ref$styleSet$options = _ref.styleSet.options,
        botAvatarInitials = _ref$styleSet$options.botAvatarInitials,
        userAvatarInitials = _ref$styleSet$options.userAvatarInitials;
    var _ref2$activity = _ref2.activity;
    _ref2$activity = _ref2$activity === void 0 ? {} : _ref2$activity;
    var _ref2$activity$from = _ref2$activity.from;
    _ref2$activity$from = _ref2$activity$from === void 0 ? {} : _ref2$activity$from;
    var role = _ref2$activity$from.role;
    return {
      avatarInitials: role === 'user' ? userAvatarInitials : botAvatarInitials,
      language: language
    };
  }].concat(selectors));
};

exports.connectCarouselFilmStrip = connectCarouselFilmStrip;

var WebChatCarouselFilmStrip = function WebChatCarouselFilmStrip(_ref3) {
  var activity = _ref3.activity,
      className = _ref3.className,
      hideTimestamp = _ref3.hideTimestamp,
      itemContainerRef = _ref3.itemContainerRef,
      renderActivityStatus = _ref3.renderActivityStatus,
      renderAttachment = _ref3.renderAttachment,
      renderAvatar = _ref3.renderAvatar,
      scrollableRef = _ref3.scrollableRef,
      showCallout = _ref3.showCallout;

  var _useStyleOptions = (0, _useStyleOptions3.default)(),
      _useStyleOptions2 = _slicedToArray(_useStyleOptions, 1),
      _useStyleOptions2$ = _useStyleOptions2[0],
      bubbleNubOffset = _useStyleOptions2$.bubbleNubOffset,
      bubbleNubSize = _useStyleOptions2$.bubbleNubSize,
      bubbleFromUserNubOffset = _useStyleOptions2$.bubbleFromUserNubOffset,
      bubbleFromUserNubSize = _useStyleOptions2$.bubbleFromUserNubSize;

  var _useStyleSet = (0, _useStyleSet3.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      carouselFilmStripStyleSet = _useStyleSet2[0].carouselFilmStrip;

  var _useAvatarForBot = (0, _useAvatarForBot3.default)(),
      _useAvatarForBot2 = _slicedToArray(_useAvatarForBot, 1),
      botInitials = _useAvatarForBot2[0].initials;

  var _useAvatarForUser = (0, _useAvatarForUser3.default)(),
      _useAvatarForUser2 = _slicedToArray(_useAvatarForUser, 1),
      userInitials = _useAvatarForUser2[0].initials;

  var _useDirection = (0, _useDirection3.default)(),
      _useDirection2 = _slicedToArray(_useDirection, 1),
      direction = _useDirection2[0];

  var ariaLabelId = (0, _useUniqueId.default)('webchat__carousel-filmstrip__id');
  var localize = (0, _useLocalizer.default)();
  var showActivityStatus = typeof renderActivityStatus === 'function';
  var _activity$attachments = activity.attachments,
      attachments = _activity$attachments === void 0 ? [] : _activity$attachments,
      _activity$channelData = activity.channelData;
  _activity$channelData = _activity$channelData === void 0 ? {} : _activity$channelData;
  var _activity$channelData2 = _activity$channelData.messageBack;
  _activity$channelData2 = _activity$channelData2 === void 0 ? {} : _activity$channelData2;
  var messageBackDisplayText = _activity$channelData2.displayText,
      _activity$from = activity.from;
  _activity$from = _activity$from === void 0 ? {} : _activity$from;
  var role = _activity$from.role,
      text = activity.text,
      textFormat = activity.textFormat;
  var activityDisplayText = messageBackDisplayText || text;
  var fromUser = role === 'user';
  var attachedAlt = localize(fromUser ? 'ACTIVITY_YOU_ATTACHED_ALT' : 'ACTIVITY_BOT_ATTACHED_ALT');
  var greetingAlt = (fromUser ? localize('ACTIVITY_YOU_SAID_ALT') : localize('ACTIVITY_BOT_SAID_ALT', botInitials || '')).replace(/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,}/g, ' ');
  var initials = fromUser ? userInitials : botInitials;
  var nubOffset = fromUser ? bubbleFromUserNubOffset : bubbleNubOffset;
  var nubSize = fromUser ? bubbleFromUserNubSize : bubbleNubSize;
  var otherInitials = fromUser ? botInitials : userInitials;
  var otherNubSize = fromUser ? bubbleNubSize : bubbleFromUserNubSize;
  var hasAvatar = initials || typeof initials === 'string';
  var hasOtherAvatar = otherInitials || typeof otherInitials === 'string';
  var hasNub = typeof nubSize === 'number';
  var hasOtherNub = typeof otherNubSize === 'number';
  var topAlignedCallout = (0, _isZeroOrPositive.default)(nubOffset);
  var extraTrailing = !hasOtherAvatar && hasOtherNub; // This is for bot message with user nub and no user avatar. And vice versa.

  var showAvatar = showCallout && hasAvatar && !!renderAvatar;
  var showNub = showCallout && hasNub && (topAlignedCallout || !attachments.length);
  return /*#__PURE__*/_react.default.createElement("div", {
    "aria-labelledby": ariaLabelId,
    className: (0, _classnames.default)('webchat__carousel-layout', ROOT_CSS + '', carouselFilmStripStyleSet + '', className + '', {
      'webchat__carousel-layout--extra-trailing': extraTrailing,
      'webchat__carousel-layout--hide-avatar': hasAvatar && !showAvatar,
      'webchat__carousel-layout--hide-nub': hasNub && !showNub,
      'webchat__carousel-layout--no-message': !activityDisplayText,
      'webchat__carousel-layout--rtl': direction === 'rtl',
      'webchat__carousel-layout--show-avatar': showAvatar,
      'webchat__carousel-layout--show-nub': showNub,
      'webchat__carousel-layout--top-callout': topAlignedCallout
    }),
    ref: scrollableRef,
    role: "group"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__main"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__avatar-gutter"
  }, showAvatar && renderAvatar({
    activity: activity
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__content"
  }, !!activityDisplayText &&
  /*#__PURE__*/
  // Disable "Prop `id` is forbidden on DOM Nodes" rule because we are using the ID prop for accessibility.

  /* eslint-disable-next-line react/forbid-dom-props */
  _react.default.createElement("div", {
    "aria-roledescription": "message",
    className: "webchat__carousel-layout__message",
    id: ariaLabelId
  }, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {
    text: greetingAlt
  }), /*#__PURE__*/_react.default.createElement(_Bubble.default, {
    className: "webchat__carousel-layout__bubble",
    fromUser: fromUser,
    nub: showNub || (hasAvatar || hasNub) && 'hidden'
  }, renderAttachment({
    activity: activity,
    attachment: {
      content: activityDisplayText,
      contentType: (0, _textFormatToContentType.default)(textFormat)
    }
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__filler"
  })), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__complimentary"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__nub-pad"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__complimentary-content"
  }, /*#__PURE__*/_react.default.createElement("ul", {
    className: "webchat__carousel-layout__attachments",
    ref: itemContainerRef
  }, attachments.map(function (attachment, index) {
    return (
      /*#__PURE__*/

      /* eslint-disable-next-line react/no-array-index-key */
      _react.default.createElement("li", {
        "aria-roledescription": "attachment",
        className: "webchat__carousel-layout__attachment",
        key: index
      }, /*#__PURE__*/_react.default.createElement(_ScreenReaderText.default, {
        text: attachedAlt
      }), /*#__PURE__*/_react.default.createElement(_Bubble.default, {
        fromUser: fromUser,
        key: index,
        nub: false
      }, renderAttachment({
        activity: activity,
        attachment: attachment
      })))
    );
  }))))), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__alignment-pad"
  })), showActivityStatus && /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__status"
  }, /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__avatar-gutter"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "webchat__carousel-layout__nub-pad"
  }), renderActivityStatus({
    hideTimestamp: hideTimestamp
  })));
};

WebChatCarouselFilmStrip.defaultProps = {
  className: '',
  hideTimestamp: false,
  renderActivityStatus: false,
  renderAvatar: false,
  showCallout: false
};
WebChatCarouselFilmStrip.propTypes = {
  activity: _propTypes.default.shape({
    attachments: _propTypes.default.array,
    channelData: _propTypes.default.shape({
      messageBack: _propTypes.default.shape({
        displayText: _propTypes.default.string
      }),
      state: _propTypes.default.string
    }),
    from: _propTypes.default.shape({
      role: _propTypes.default.string.isRequired
    }).isRequired,
    text: _propTypes.default.string,
    textFormat: _propTypes.default.string,
    timestamp: _propTypes.default.string
  }).isRequired,
  className: _propTypes.default.string,
  hideTimestamp: _propTypes.default.bool,
  itemContainerRef: _propTypes.default.any.isRequired,
  renderActivityStatus: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.func]),
  renderAttachment: _propTypes.default.func.isRequired,
  renderAvatar: _propTypes.default.oneOfType([_propTypes.default.oneOf([false]), _propTypes.default.func]),
  scrollableRef: _propTypes.default.any.isRequired,
  showCallout: _propTypes.default.bool
};

var CarouselFilmStrip = function CarouselFilmStrip(props) {
  return /*#__PURE__*/_react.default.createElement(_reactFilm.Context.Consumer, null, function (_ref4) {
    var itemContainerRef = _ref4.itemContainerRef,
        scrollableRef = _ref4.scrollableRef;
    return /*#__PURE__*/_react.default.createElement(WebChatCarouselFilmStrip, _extends({
      itemContainerRef: itemContainerRef,
      scrollableRef: scrollableRef
    }, props));
  });
};

var _default = CarouselFilmStrip;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BY3Rpdml0eS9DYXJvdXNlbEZpbG1TdHJpcC5qcyJdLCJuYW1lcyI6WyJST09UX0NTUyIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiTXNPdmVyZmxvd1N0eWxlIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwicG9zaXRpb24iLCJ0b3VjaEFjdGlvbiIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwiZmxleFNocmluayIsImZsZXgiLCJsaXN0U3R5bGVUeXBlIiwibWFyZ2luIiwicGFkZGluZyIsImZsZXhHcm93IiwiY29ubmVjdENhcm91c2VsRmlsbVN0cmlwIiwic2VsZWN0b3JzIiwiY29ubmVjdFRvV2ViQ2hhdCIsImxhbmd1YWdlIiwic3R5bGVTZXQiLCJvcHRpb25zIiwiYm90QXZhdGFySW5pdGlhbHMiLCJ1c2VyQXZhdGFySW5pdGlhbHMiLCJhY3Rpdml0eSIsImZyb20iLCJyb2xlIiwiYXZhdGFySW5pdGlhbHMiLCJXZWJDaGF0Q2Fyb3VzZWxGaWxtU3RyaXAiLCJjbGFzc05hbWUiLCJoaWRlVGltZXN0YW1wIiwiaXRlbUNvbnRhaW5lclJlZiIsInJlbmRlckFjdGl2aXR5U3RhdHVzIiwicmVuZGVyQXR0YWNobWVudCIsInJlbmRlckF2YXRhciIsInNjcm9sbGFibGVSZWYiLCJzaG93Q2FsbG91dCIsImJ1YmJsZU51Yk9mZnNldCIsImJ1YmJsZU51YlNpemUiLCJidWJibGVGcm9tVXNlck51Yk9mZnNldCIsImJ1YmJsZUZyb21Vc2VyTnViU2l6ZSIsImNhcm91c2VsRmlsbVN0cmlwU3R5bGVTZXQiLCJjYXJvdXNlbEZpbG1TdHJpcCIsImJvdEluaXRpYWxzIiwiaW5pdGlhbHMiLCJ1c2VySW5pdGlhbHMiLCJkaXJlY3Rpb24iLCJhcmlhTGFiZWxJZCIsImxvY2FsaXplIiwic2hvd0FjdGl2aXR5U3RhdHVzIiwiYXR0YWNobWVudHMiLCJjaGFubmVsRGF0YSIsIm1lc3NhZ2VCYWNrIiwibWVzc2FnZUJhY2tEaXNwbGF5VGV4dCIsImRpc3BsYXlUZXh0IiwidGV4dCIsInRleHRGb3JtYXQiLCJhY3Rpdml0eURpc3BsYXlUZXh0IiwiZnJvbVVzZXIiLCJhdHRhY2hlZEFsdCIsImdyZWV0aW5nQWx0IiwicmVwbGFjZSIsIm51Yk9mZnNldCIsIm51YlNpemUiLCJvdGhlckluaXRpYWxzIiwib3RoZXJOdWJTaXplIiwiaGFzQXZhdGFyIiwiaGFzT3RoZXJBdmF0YXIiLCJoYXNOdWIiLCJoYXNPdGhlck51YiIsInRvcEFsaWduZWRDYWxsb3V0IiwiZXh0cmFUcmFpbGluZyIsInNob3dBdmF0YXIiLCJzaG93TnViIiwibGVuZ3RoIiwiYXR0YWNobWVudCIsImNvbnRlbnQiLCJjb250ZW50VHlwZSIsIm1hcCIsImluZGV4IiwiZGVmYXVsdFByb3BzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJhcnJheSIsInN0cmluZyIsInN0YXRlIiwiaXNSZXF1aXJlZCIsInRpbWVzdGFtcCIsImJvb2wiLCJhbnkiLCJvbmVPZlR5cGUiLCJvbmVPZiIsImZ1bmMiLCJDYXJvdXNlbEZpbG1TdHJpcCIsInByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQU1BLFFBQVEsR0FBRyxpQkFBSTtBQUNuQixnQ0FBOEI7QUFDNUJDLElBQUFBLE9BQU8sRUFBRSxNQURtQjtBQUU1QkMsSUFBQUEsYUFBYSxFQUFFLFFBRmE7QUFHNUJDLElBQUFBLGVBQWUsRUFBRSxNQUhXO0FBSTVCQyxJQUFBQSxTQUFTLEVBQUUsUUFKaUI7QUFLNUJDLElBQUFBLFNBQVMsRUFBRSxRQUxpQjtBQU01QkMsSUFBQUEsUUFBUSxFQUFFLFVBTmtCO0FBTU47QUFDdEJDLElBQUFBLFdBQVcsRUFBRSxjQVBlO0FBUTVCQyxJQUFBQSx1QkFBdUIs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QmM7QUFpQm5DdkQsRUFBQUEsYUFBYSxFQUFFb0QsbUJBQVVPLElBakJVO0FBa0JuQzFELEVBQUFBLGdCQUFnQixFQUFFbUQsbUJBQVVRLEdBQVYsQ0FBY0gsVUFsQkc7QUFtQm5DdkQsRUFBQUEsb0JBQW9CLEVBQUVrRCxtQkFBVVMsU0FBVixDQUFvQixDQUFDVCxtQkFBVVUsS0FBVixDQUFnQixDQUFDLEtBQUQsQ0FBaEIsQ0FBRCxFQUEyQlYsbUJBQVVXLElBQXJDLENBQXBCLENBbkJhO0FBb0JuQzVELEVBQUFBLGdCQUFnQixFQUFFaUQsbUJBQVVXLElBQVYsQ0FBZU4sVUFwQkU7QUFxQm5DckQsRUFBQUEsWUFBWSxFQUFFZ0QsbUJBQVVTLFNBQVYsQ0FBb0IsQ0FBQ1QsbUJBQVVVLEtBQVYsQ0FBZ0IsQ0FBQyxLQUFELENBQWhCLENBQUQsRUFBMkJWLG1CQUFVVyxJQUFyQyxDQUFwQixDQXJCcUI7QUFzQm5DMUQsRUFBQUEsYUFBYSxFQUFFK0MsbUJBQVVRLEdBQVYsQ0FBY0gsVUF0Qk07QUF1Qm5DbkQsRUFBQUEsV0FBVyxFQUFFOEMsbUJBQVVPO0FBdkJZLENBQXJDOztBQTBCQSxJQUFNSyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUFDLEtBQUs7QUFBQSxzQkFDN0IsNkJBQUMsa0JBQUQsQ0FBYSxRQUFiLFFBQ0c7QUFBQSxRQUFHaEUsZ0JBQUgsU0FBR0EsZ0JBQUg7QUFBQSxRQUFxQkksYUFBckIsU0FBcUJBLGFBQXJCO0FBQUEsd0JBQ0MsNkJBQUMsd0JBQUQ7QUFBMEIsTUFBQSxnQkFBZ0IsRUFBRUosZ0JBQTVDO0FBQThELE1BQUEsYUFBYSxFQUFFSTtBQUE3RSxPQUFnRzRELEtBQWhHLEVBREQ7QUFBQSxHQURILENBRDZCO0FBQUEsQ0FBL0I7O2VBUWVELGlCIiwic291cmNlUm9vdCI6ImNvbXBvbmVudDovLy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgY29tcGxleGl0eTogW1wiZXJyb3JcIiwgMzBdICovXG5cbmltcG9ydCB7IGNzcyB9IGZyb20gJ2dsYW1vcic7XG5pbXBvcnQgeyBDb250ZXh0IGFzIEZpbG1Db250ZXh0IH0gZnJvbSAncmVhY3QtZmlsbSc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQnViYmxlIGZyb20gJy4vQnViYmxlJztcbmltcG9ydCBjb25uZWN0VG9XZWJDaGF0IGZyb20gJy4uL2Nvbm5lY3RUb1dlYkNoYXQnO1xuaW1wb3J0IGlzWmVyb09yUG9zaXRpdmUgZnJvbSAnLi4vVXRpbHMvaXNaZXJvT3JQb3NpdGl2ZSc7XG5pbXBvcnQgU2NyZWVuUmVhZGVyVGV4dCBmcm9tICcuLi9TY3JlZW5SZWFkZXJUZXh0JztcbmltcG9ydCB0ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSBmcm9tICcuLi9VdGlscy90ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSc7XG5pbXBvcnQgdXNlQXZhdGFyRm9yQm90IGZyb20gJy4uL2hvb2tzL3VzZUF2YXRhckZvckJvdCc7XG5pbXBvcnQgdXNlQXZhdGFyRm9yVXNlciBmcm9tICcuLi9ob29rcy91c2VBdmF0YXJGb3JVc2VyJztcbmltcG9ydCB1c2VEaXJlY3Rpb24gZnJvbSAnLi4vaG9va3MvdXNlRGlyZWN0aW9uJztcbmltcG9ydCB1c2VMb2NhbGl6ZXIgZnJvbSAnLi4vaG9va3MvdXNlTG9jYWxpemVyJztcbmltcG9ydCB1c2VTdHlsZU9wdGlvbnMgZnJvbSAnLi4vaG9va3MvdXNlU3R5bGVPcHRpb25zJztcbmltcG9ydCB1c2VTdHlsZVNldCBmcm9tICcuLi9ob29rcy91c2VTdHlsZVNldCc7XG5pbXBvcnQgdXNlVW5pcXVlSWQgZnJvbSAnLi4vaG9va3MvaW50ZXJuYWwvdXNlVW5pcXVlSWQnO1xuXG5jb25zdCBST09UX0NTUyA9IGNzcyh7XG4gICcmLndlYmNoYXRfX2Nhcm91c2VsLWxheW91dCc6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgTXNPdmVyZmxvd1N0eWxlOiAnbm9uZScsXG4gICAgb3ZlcmZsb3dYOiAnc2Nyb2xsJyxcbiAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLCAvLyBUaGlzIGlzIHRvIGtlZXAgc2NyZWVuIHJlYWRlciB0ZXh0IGluIHRoZSBkZXN0aW5hdGVkIGFyZWEuXG4gICAgdG91Y2hBY3Rpb246ICdtYW5pcHVsYXRpb24nLFxuICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuXG4gICAgJyY6Oi13ZWJraXQtc2Nyb2xsYmFyJzoge1xuICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2FsaWdubWVudC1wYWQnOiB7XG4gICAgICBmbGV4U2hyaW5rOiAwXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2F0dGFjaG1lbnQnOiB7XG4gICAgICBmbGV4OiAxXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2F0dGFjaG1lbnRzJzoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgbGlzdFN0eWxlVHlwZTogJ25vbmUnLFxuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcGFkZGluZzogMFxuICAgIH0sXG5cbiAgICAnJiAud2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19hdmF0YXInOiB7XG4gICAgICBmbGV4U2hyaW5rOiAwXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2F2YXRhci1ndXR0ZXInOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGZsZXhTaHJpbms6IDBcbiAgICB9LFxuXG4gICAgJyYgLndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fY29tcGxpbWVudGFyeSc6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH0sXG5cbiAgICAnJiAud2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19jb21wbGltZW50YXJ5LWNvbnRlbnQnOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4R3JvdzogMSxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2NvbnRlbnQnOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4R3JvdzogMSxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2ZpbGxlcic6IHtcbiAgICAgIGZsZXhHcm93OiAxMDAwMCxcbiAgICAgIGZsZXhTaHJpbms6IDFcbiAgICB9LFxuXG4gICAgJyYgLndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fbWFpbic6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH0sXG5cbiAgICAnJiAud2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19tZXNzYWdlJzoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX251Yi1wYWQnOiB7XG4gICAgICBmbGV4U2hyaW5rOiAwXG4gICAgfSxcblxuICAgICcmIC53ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX3N0YXR1cyc6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGNvbm5lY3RDYXJvdXNlbEZpbG1TdHJpcCA9ICguLi5zZWxlY3RvcnMpID0+XG4gIGNvbm5lY3RUb1dlYkNoYXQoXG4gICAgKFxuICAgICAge1xuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgc3R5bGVTZXQ6IHtcbiAgICAgICAgICBvcHRpb25zOiB7IGJvdEF2YXRhckluaXRpYWxzLCB1c2VyQXZhdGFySW5pdGlhbHMgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyBhY3Rpdml0eTogeyBmcm9tOiB7IHJvbGUgfSA9IHt9IH0gPSB7fSB9XG4gICAgKSA9PiAoe1xuICAgICAgYXZhdGFySW5pdGlhbHM6IHJvbGUgPT09ICd1c2VyJyA/IHVzZXJBdmF0YXJJbml0aWFscyA6IGJvdEF2YXRhckluaXRpYWxzLFxuICAgICAgbGFuZ3VhZ2VcbiAgICB9KSxcbiAgICAuLi5zZWxlY3RvcnNcbiAgKTtcblxuY29uc3QgV2ViQ2hhdENhcm91c2VsRmlsbVN0cmlwID0gKHtcbiAgYWN0aXZpdHksXG4gIGNsYXNzTmFtZSxcbiAgaGlkZVRpbWVzdGFtcCxcbiAgaXRlbUNvbnRhaW5lclJlZixcbiAgcmVuZGVyQWN0aXZpdHlTdGF0dXMsXG4gIHJlbmRlckF0dGFjaG1lbnQsXG4gIHJlbmRlckF2YXRhcixcbiAgc2Nyb2xsYWJsZVJlZixcbiAgc2hvd0NhbGxvdXRcbn0pID0+IHtcbiAgY29uc3QgW3sgYnViYmxlTnViT2Zmc2V0LCBidWJibGVOdWJTaXplLCBidWJibGVGcm9tVXNlck51Yk9mZnNldCwgYnViYmxlRnJvbVVzZXJOdWJTaXplIH1dID0gdXNlU3R5bGVPcHRpb25zKCk7XG4gIGNvbnN0IFt7IGNhcm91c2VsRmlsbVN0cmlwOiBjYXJvdXNlbEZpbG1TdHJpcFN0eWxlU2V0IH1dID0gdXNlU3R5bGVTZXQoKTtcbiAgY29uc3QgW3sgaW5pdGlhbHM6IGJvdEluaXRpYWxzIH1dID0gdXNlQXZhdGFyRm9yQm90KCk7XG4gIGNvbnN0IFt7IGluaXRpYWxzOiB1c2VySW5pdGlhbHMgfV0gPSB1c2VBdmF0YXJGb3JVc2VyKCk7XG4gIGNvbnN0IFtkaXJlY3Rpb25dID0gdXNlRGlyZWN0aW9uKCk7XG4gIGNvbnN0IGFyaWFMYWJlbElkID0gdXNlVW5pcXVlSWQoJ3dlYmNoYXRfX2Nhcm91c2VsLWZpbG1zdHJpcF9faWQnKTtcbiAgY29uc3QgbG9jYWxpemUgPSB1c2VMb2NhbGl6ZXIoKTtcbiAgY29uc3Qgc2hvd0FjdGl2aXR5U3RhdHVzID0gdHlwZW9mIHJlbmRlckFjdGl2aXR5U3RhdHVzID09PSAnZnVuY3Rpb24nO1xuXG4gIGNvbnN0IHtcbiAgICBhdHRhY2htZW50cyA9IFtdLFxuICAgIGNoYW5uZWxEYXRhOiB7IG1lc3NhZ2VCYWNrOiB7IGRpc3BsYXlUZXh0OiBtZXNzYWdlQmFja0Rpc3BsYXlUZXh0IH0gPSB7fSB9ID0ge30sXG4gICAgZnJvbTogeyByb2xlIH0gPSB7fSxcbiAgICB0ZXh0LFxuICAgIHRleHRGb3JtYXRcbiAgfSA9IGFjdGl2aXR5O1xuXG4gIGNvbnN0IGFjdGl2aXR5RGlzcGxheVRleHQgPSBtZXNzYWdlQmFja0Rpc3BsYXlUZXh0IHx8IHRleHQ7XG4gIGNvbnN0IGZyb21Vc2VyID0gcm9sZSA9PT0gJ3VzZXInO1xuXG4gIGNvbnN0IGF0dGFjaGVkQWx0ID0gbG9jYWxpemUoZnJvbVVzZXIgPyAnQUNUSVZJVFlfWU9VX0FUVEFDSEVEX0FMVCcgOiAnQUNUSVZJVFlfQk9UX0FUVEFDSEVEX0FMVCcpO1xuICBjb25zdCBncmVldGluZ0FsdCA9IChmcm9tVXNlclxuICAgID8gbG9jYWxpemUoJ0FDVElWSVRZX1lPVV9TQUlEX0FMVCcpXG4gICAgOiBsb2NhbGl6ZSgnQUNUSVZJVFlfQk9UX1NBSURfQUxUJywgYm90SW5pdGlhbHMgfHwgJycpXG4gICkucmVwbGFjZSgvXFxzezIsfS9ndSwgJyAnKTtcblxuICBjb25zdCBpbml0aWFscyA9IGZyb21Vc2VyID8gdXNlckluaXRpYWxzIDogYm90SW5pdGlhbHM7XG4gIGNvbnN0IG51Yk9mZnNldCA9IGZyb21Vc2VyID8gYnViYmxlRnJvbVVzZXJOdWJPZmZzZXQgOiBidWJibGVOdWJPZmZzZXQ7XG4gIGNvbnN0IG51YlNpemUgPSBmcm9tVXNlciA/IGJ1YmJsZUZyb21Vc2VyTnViU2l6ZSA6IGJ1YmJsZU51YlNpemU7XG4gIGNvbnN0IG90aGVySW5pdGlhbHMgPSBmcm9tVXNlciA/IGJvdEluaXRpYWxzIDogdXNlckluaXRpYWxzO1xuICBjb25zdCBvdGhlck51YlNpemUgPSBmcm9tVXNlciA/IGJ1YmJsZU51YlNpemUgOiBidWJibGVGcm9tVXNlck51YlNpemU7XG5cbiAgY29uc3QgaGFzQXZhdGFyID0gaW5pdGlhbHMgfHwgdHlwZW9mIGluaXRpYWxzID09PSAnc3RyaW5nJztcbiAgY29uc3QgaGFzT3RoZXJBdmF0YXIgPSBvdGhlckluaXRpYWxzIHx8IHR5cGVvZiBvdGhlckluaXRpYWxzID09PSAnc3RyaW5nJztcbiAgY29uc3QgaGFzTnViID0gdHlwZW9mIG51YlNpemUgPT09ICdudW1iZXInO1xuICBjb25zdCBoYXNPdGhlck51YiA9IHR5cGVvZiBvdGhlck51YlNpemUgPT09ICdudW1iZXInO1xuICBjb25zdCB0b3BBbGlnbmVkQ2FsbG91dCA9IGlzWmVyb09yUG9zaXRpdmUobnViT2Zmc2V0KTtcblxuICBjb25zdCBleHRyYVRyYWlsaW5nID0gIWhhc090aGVyQXZhdGFyICYmIGhhc090aGVyTnViOyAvLyBUaGlzIGlzIGZvciBib3QgbWVzc2FnZSB3aXRoIHVzZXIgbnViIGFuZCBubyB1c2VyIGF2YXRhci4gQW5kIHZpY2UgdmVyc2EuXG5cbiAgY29uc3Qgc2hvd0F2YXRhciA9IHNob3dDYWxsb3V0ICYmIGhhc0F2YXRhciAmJiAhIXJlbmRlckF2YXRhcjtcbiAgY29uc3Qgc2hvd051YiA9IHNob3dDYWxsb3V0ICYmIGhhc051YiAmJiAodG9wQWxpZ25lZENhbGxvdXQgfHwgIWF0dGFjaG1lbnRzLmxlbmd0aCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBhcmlhLWxhYmVsbGVkYnk9e2FyaWFMYWJlbElkfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXQnLCBST09UX0NTUyArICcnLCBjYXJvdXNlbEZpbG1TdHJpcFN0eWxlU2V0ICsgJycsIGNsYXNzTmFtZSArICcnLCB7XG4gICAgICAgICd3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXQtLWV4dHJhLXRyYWlsaW5nJzogZXh0cmFUcmFpbGluZyxcbiAgICAgICAgJ3dlYmNoYXRfX2Nhcm91c2VsLWxheW91dC0taGlkZS1hdmF0YXInOiBoYXNBdmF0YXIgJiYgIXNob3dBdmF0YXIsXG4gICAgICAgICd3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXQtLWhpZGUtbnViJzogaGFzTnViICYmICFzaG93TnViLFxuICAgICAgICAnd2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0LS1uby1tZXNzYWdlJzogIWFjdGl2aXR5RGlzcGxheVRleHQsXG4gICAgICAgICd3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXQtLXJ0bCc6IGRpcmVjdGlvbiA9PT0gJ3J0bCcsXG4gICAgICAgICd3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXQtLXNob3ctYXZhdGFyJzogc2hvd0F2YXRhcixcbiAgICAgICAgJ3dlYmNoYXRfX2Nhcm91c2VsLWxheW91dC0tc2hvdy1udWInOiBzaG93TnViLFxuICAgICAgICAnd2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0LS10b3AtY2FsbG91dCc6IHRvcEFsaWduZWRDYWxsb3V0XG4gICAgICB9KX1cbiAgICAgIHJlZj17c2Nyb2xsYWJsZVJlZn1cbiAgICAgIHJvbGU9XCJncm91cFwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX21haW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2F2YXRhci1ndXR0ZXJcIj57c2hvd0F2YXRhciAmJiByZW5kZXJBdmF0YXIoeyBhY3Rpdml0eSB9KX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2NvbnRlbnRcIj5cbiAgICAgICAgICB7ISFhY3Rpdml0eURpc3BsYXlUZXh0ICYmIChcbiAgICAgICAgICAgIC8vIERpc2FibGUgXCJQcm9wIGBpZGAgaXMgZm9yYmlkZGVuIG9uIERPTSBOb2Rlc1wiIHJ1bGUgYmVjYXVzZSB3ZSBhcmUgdXNpbmcgdGhlIElEIHByb3AgZm9yIGFjY2Vzc2liaWxpdHkuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZm9yYmlkLWRvbS1wcm9wcyAqL1xuICAgICAgICAgICAgPGRpdiBhcmlhLXJvbGVkZXNjcmlwdGlvbj1cIm1lc3NhZ2VcIiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX21lc3NhZ2VcIiBpZD17YXJpYUxhYmVsSWR9PlxuICAgICAgICAgICAgICA8U2NyZWVuUmVhZGVyVGV4dCB0ZXh0PXtncmVldGluZ0FsdH0gLz5cbiAgICAgICAgICAgICAgPEJ1YmJsZVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fYnViYmxlXCJcbiAgICAgICAgICAgICAgICBmcm9tVXNlcj17ZnJvbVVzZXJ9XG4gICAgICAgICAgICAgICAgbnViPXtzaG93TnViIHx8ICgoaGFzQXZhdGFyIHx8IGhhc051YikgJiYgJ2hpZGRlbicpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3JlbmRlckF0dGFjaG1lbnQoe1xuICAgICAgICAgICAgICAgICAgYWN0aXZpdHksXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGFjdGl2aXR5RGlzcGxheVRleHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiB0ZXh0Rm9ybWF0VG9Db250ZW50VHlwZSh0ZXh0Rm9ybWF0KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L0J1YmJsZT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2ZpbGxlclwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19jb21wbGltZW50YXJ5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fbnViLXBhZFwiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fY29tcGxpbWVudGFyeS1jb250ZW50XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX2F0dGFjaG1lbnRzXCIgcmVmPXtpdGVtQ29udGFpbmVyUmVmfT5cbiAgICAgICAgICAgICAgICB7LyogYXR0YWNobWVudHMgZG8gbm90IGhhdmUgYW4gSUQsIGl0IGlzIGFsd2F5cyBpbmRleGVkIGJ5IG51bWJlciAqL31cbiAgICAgICAgICAgICAgICB7YXR0YWNobWVudHMubWFwKChhdHRhY2htZW50LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleSAqL1xuICAgICAgICAgICAgICAgICAgPGxpIGFyaWEtcm9sZWRlc2NyaXB0aW9uPVwiYXR0YWNobWVudFwiIGNsYXNzTmFtZT1cIndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fYXR0YWNobWVudFwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8U2NyZWVuUmVhZGVyVGV4dCB0ZXh0PXthdHRhY2hlZEFsdH0gLz5cbiAgICAgICAgICAgICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxCdWJibGUgZnJvbVVzZXI9e2Zyb21Vc2VyfSBrZXk9e2luZGV4fSBudWI9e2ZhbHNlfT5cbiAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyQXR0YWNobWVudCh7IGFjdGl2aXR5LCBhdHRhY2htZW50IH0pfVxuICAgICAgICAgICAgICAgICAgICA8L0J1YmJsZT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19hbGlnbm1lbnQtcGFkXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAge3Nob3dBY3Rpdml0eVN0YXR1cyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2ViY2hhdF9fY2Fyb3VzZWwtbGF5b3V0X19zdGF0dXNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYmNoYXRfX2Nhcm91c2VsLWxheW91dF9fYXZhdGFyLWd1dHRlclwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWJjaGF0X19jYXJvdXNlbC1sYXlvdXRfX251Yi1wYWRcIiAvPlxuICAgICAgICAgIHtyZW5kZXJBY3Rpdml0eVN0YXR1cyh7IGhpZGVUaW1lc3RhbXAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbldlYkNoYXRDYXJvdXNlbEZpbG1TdHJpcC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJycsXG4gIGhpZGVUaW1lc3RhbXA6IGZhbHNlLFxuICByZW5kZXJBY3Rpdml0eVN0YXR1czogZmFsc2UsXG4gIHJlbmRlckF2YXRhcjogZmFsc2UsXG4gIHNob3dDYWxsb3V0OiBmYWxzZVxufTtcblxuV2ViQ2hhdENhcm91c2VsRmlsbVN0cmlwLnByb3BUeXBlcyA9IHtcbiAgYWN0aXZpdHk6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgYXR0YWNobWVudHM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBjaGFubmVsRGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIG1lc3NhZ2VCYWNrOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBkaXNwbGF5VGV4dDogUHJvcFR5cGVzLnN0cmluZ1xuICAgICAgfSksXG4gICAgICBzdGF0ZTogUHJvcFR5cGVzLnN0cmluZ1xuICAgIH0pLFxuICAgIGZyb206IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICByb2xlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGV4dEZvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0aW1lc3RhbXA6IFByb3BUeXBlcy5zdHJpbmdcbiAgfSkuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBoaWRlVGltZXN0YW1wOiBQcm9wVHlwZXMuYm9vbCxcbiAgaXRlbUNvbnRhaW5lclJlZjogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuICByZW5kZXJBY3Rpdml0eVN0YXR1czogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9uZU9mKFtmYWxzZV0pLCBQcm9wVHlwZXMuZnVuY10pLFxuICByZW5kZXJBdHRhY2htZW50OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICByZW5kZXJBdmF0YXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vbmVPZihbZmFsc2VdKSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgc2Nyb2xsYWJsZVJlZjogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuICBzaG93Q2FsbG91dDogUHJvcFR5cGVzLmJvb2xcbn07XG5cbmNvbnN0IENhcm91c2VsRmlsbVN0cmlwID0gcHJvcHMgPT4gKFxuICA8RmlsbUNvbnRleHQuQ29uc3VtZXI+XG4gICAgeyh7IGl0ZW1Db250YWluZXJSZWYsIHNjcm9sbGFibGVSZWYgfSkgPT4gKFxuICAgICAgPFdlYkNoYXRDYXJvdXNlbEZpbG1TdHJpcCBpdGVtQ29udGFpbmVyUmVmPXtpdGVtQ29udGFpbmVyUmVmfSBzY3JvbGxhYmxlUmVmPXtzY3JvbGxhYmxlUmVmfSB7Li4ucHJvcHN9IC8+XG4gICAgKX1cbiAgPC9GaWxtQ29udGV4dC5Db25zdW1lcj5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IENhcm91c2VsRmlsbVN0cmlwO1xuXG5leHBvcnQgeyBjb25uZWN0Q2Fyb3VzZWxGaWxtU3RyaXAgfTtcbiJdfQ==