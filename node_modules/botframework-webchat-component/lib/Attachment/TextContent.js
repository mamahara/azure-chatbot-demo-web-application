"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _useRenderMarkdownAsHTML = _interopRequireDefault(require("../hooks/useRenderMarkdownAsHTML"));

var _useStyleSet3 = _interopRequireDefault(require("../hooks/useStyleSet"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var TextContent = function TextContent(_ref) {
  var contentType = _ref.contentType,
      text = _ref.text;

  var _useStyleSet = (0, _useStyleSet3.default)(),
      _useStyleSet2 = _slicedToArray(_useStyleSet, 1),
      textContentStyleSet = _useStyleSet2[0].textContent;

  var renderMarkdownAsHTML = (0, _useRenderMarkdownAsHTML.default)();
  var contentTypeMarkdown = contentType === 'text/markdown';
  return contentTypeMarkdown && renderMarkdownAsHTML ? /*#__PURE__*/_react.default.createElement("div", {
    className: (0, _classnames.default)('markdown', textContentStyleSet + ''),
    dangerouslySetInnerHTML: {
      __html: renderMarkdownAsHTML(text || '')
    }
  }) : (text || '').split('\n').map(function (line, index) {
    return /*#__PURE__*/_react.default.createElement("p", {
      className: (0, _classnames.default)('plain', textContentStyleSet + ''),
      key: index
    }, line.trim());
  });
};

TextContent.defaultProps = {
  contentType: 'text/markdown'
};
TextContent.propTypes = {
  contentType: _propTypes.default.string,
  text: _propTypes.default.string.isRequired
};
var _default = TextContent;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BdHRhY2htZW50L1RleHRDb250ZW50LmpzIl0sIm5hbWVzIjpbIlRleHRDb250ZW50IiwiY29udGVudFR5cGUiLCJ0ZXh0IiwidGV4dENvbnRlbnRTdHlsZVNldCIsInRleHRDb250ZW50IiwicmVuZGVyTWFya2Rvd25Bc0hUTUwiLCJjb250ZW50VHlwZU1hcmtkb3duIiwiX19odG1sIiwic3BsaXQiLCJtYXAiLCJsaW5lIiwiaW5kZXgiLCJ0cmltIiwiZGVmYXVsdFByb3BzIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUtBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsV0FBVyxHQUFHLFNBQWRBLFdBQWMsT0FBMkI7QUFBQSxNQUF4QkMsV0FBd0IsUUFBeEJBLFdBQXdCO0FBQUEsTUFBWEMsSUFBVyxRQUFYQSxJQUFXOztBQUFBLHFCQUNFLDRCQURGO0FBQUE7QUFBQSxNQUN2QkMsbUJBRHVCLG9CQUNwQ0MsV0FEb0M7O0FBRTdDLE1BQU1DLG9CQUFvQixHQUFHLHVDQUE3QjtBQUNBLE1BQU1DLG1CQUFtQixHQUFHTCxXQUFXLEtBQUssZUFBNUM7QUFFQSxTQUFPSyxtQkFBbUIsSUFBSUQsb0JBQXZCLGdCQUNMO0FBQ0UsSUFBQSxTQUFTLEVBQUUseUJBQVcsVUFBWCxFQUF1QkYsbUJBQW1CLEdBQUcsRUFBN0MsQ0FEYjtBQUVFLElBQUEsdUJBQXVCLEVBQUU7QUFBRUksTUFBQUEsTUFBTSxFQUFFRixvQkFBb0IsQ0FBQ0gsSUFBSSxJQUFJLEVBQVQ7QUFBOUI7QUFGM0IsSUFESyxHQU1MLENBQUNBLElBQUksSUFBSSxFQUFULEVBQWFNLEtBQWIsQ0FBbUIsSUFBbkIsRUFBeUJDLEdBQXpCLENBQTZCLFVBQUNDLElBQUQsRUFBT0MsS0FBUDtBQUFBLHdCQUMzQjtBQUFHLE1BQUEsU0FBUyxFQUFFLHlCQUFXLE9BQVgsRUFBb0JSLG1CQUFtQixHQUFHLEVBQTFDLENBQWQ7QUFBNkQsTUFBQSxHQUFHLEVBQUVRO0FBQWxFLE9BQ0dELElBQUksQ0FBQ0UsSUFBTCxFQURILENBRDJCO0FBQUEsR0FBN0IsQ0FORjtBQVlELENBakJEOztBQW1CQVosV0FBVyxDQUFDYSxZQUFaLEdBQTJCO0FBQ3pCWixFQUFBQSxXQUFXLEVBQUU7QUFEWSxDQUEzQjtBQUlBRCxXQUFXLENBQUNjLFNBQVosR0FBd0I7QUFDdEJiLEVBQUFBLFdBQVcsRUFBRWMsbUJBQVVDLE1BREQ7QUFFdEJkLEVBQUFBLElBQUksRUFBRWEsbUJBQVVDLE1BQVYsQ0FBaUJDO0FBRkQsQ0FBeEI7ZUFLZWpCLFciLCJzb3VyY2VSb290IjoiY29tcG9uZW50Oi8vLyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCByZWFjdC9uby1kYW5nZXI6IFwib2ZmXCIgKi9cbi8qIGVzbGludCByZWFjdC9uby1hcnJheS1pbmRleC1rZXk6IFwib2ZmXCIgKi9cblxuLy8gVGhlIGNvbnRlbnQgcmVuZGVyZWQgaGVyZSBpcyBzYW5pdGl6ZWQuXG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB1c2VSZW5kZXJNYXJrZG93bkFzSFRNTCBmcm9tICcuLi9ob29rcy91c2VSZW5kZXJNYXJrZG93bkFzSFRNTCc7XG5pbXBvcnQgdXNlU3R5bGVTZXQgZnJvbSAnLi4vaG9va3MvdXNlU3R5bGVTZXQnO1xuXG5jb25zdCBUZXh0Q29udGVudCA9ICh7IGNvbnRlbnRUeXBlLCB0ZXh0IH0pID0+IHtcbiAgY29uc3QgW3sgdGV4dENvbnRlbnQ6IHRleHRDb250ZW50U3R5bGVTZXQgfV0gPSB1c2VTdHlsZVNldCgpO1xuICBjb25zdCByZW5kZXJNYXJrZG93bkFzSFRNTCA9IHVzZVJlbmRlck1hcmtkb3duQXNIVE1MKCk7XG4gIGNvbnN0IGNvbnRlbnRUeXBlTWFya2Rvd24gPSBjb250ZW50VHlwZSA9PT0gJ3RleHQvbWFya2Rvd24nO1xuXG4gIHJldHVybiBjb250ZW50VHlwZU1hcmtkb3duICYmIHJlbmRlck1hcmtkb3duQXNIVE1MID8gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFya2Rvd24nLCB0ZXh0Q29udGVudFN0eWxlU2V0ICsgJycpfVxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiByZW5kZXJNYXJrZG93bkFzSFRNTCh0ZXh0IHx8ICcnKSB9fVxuICAgIC8+XG4gICkgOiAoXG4gICAgKHRleHQgfHwgJycpLnNwbGl0KCdcXG4nKS5tYXAoKGxpbmUsIGluZGV4KSA9PiAoXG4gICAgICA8cCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3BsYWluJywgdGV4dENvbnRlbnRTdHlsZVNldCArICcnKX0ga2V5PXtpbmRleH0+XG4gICAgICAgIHtsaW5lLnRyaW0oKX1cbiAgICAgIDwvcD5cbiAgICApKVxuICApO1xufTtcblxuVGV4dENvbnRlbnQuZGVmYXVsdFByb3BzID0ge1xuICBjb250ZW50VHlwZTogJ3RleHQvbWFya2Rvd24nXG59O1xuXG5UZXh0Q29udGVudC5wcm9wVHlwZXMgPSB7XG4gIGNvbnRlbnRUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0ZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWRcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRDb250ZW50O1xuIl19