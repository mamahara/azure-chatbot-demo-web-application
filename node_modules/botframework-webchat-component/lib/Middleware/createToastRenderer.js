"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createToastRenderer;

var _react = _interopRequireDefault(require("react"));

var _concatMiddleware = _interopRequireDefault(require("./concatMiddleware"));

var _createCoreMiddleware = _interopRequireDefault(require("./Toast/createCoreMiddleware"));

var _ErrorBox = _interopRequireDefault(require("../ErrorBox"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint no-magic-numbers: ["error", { "ignore": [2] }] */
function createToastRenderer(additionalMiddleware) {
  var toastMiddleware = (0, _concatMiddleware.default)(additionalMiddleware, (0, _createCoreMiddleware.default)())({});
  return function () {
    try {
      return toastMiddleware(function (_ref) {
        var notification = _ref.notification;
        return /*#__PURE__*/_react.default.createElement(_ErrorBox.default, {
          message: "No renderer for this notification"
        }, /*#__PURE__*/_react.default.createElement("pre", null, JSON.stringify(notification, null, 2)));
      }).apply(void 0, arguments);
    } catch (err) {
      var message = err.message,
          stack = err.stack;
      console.error({
        message: message,
        stack: stack
      });
      return /*#__PURE__*/_react.default.createElement(_ErrorBox.default, {
        error: err,
        message: "Failed to render notification"
      }, /*#__PURE__*/_react.default.createElement("pre", null, JSON.stringify({
        message: message,
        stack: stack
      }, null, 2)));
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9NaWRkbGV3YXJlL2NyZWF0ZVRvYXN0UmVuZGVyZXIuanMiXSwibmFtZXMiOlsiY3JlYXRlVG9hc3RSZW5kZXJlciIsImFkZGl0aW9uYWxNaWRkbGV3YXJlIiwidG9hc3RNaWRkbGV3YXJlIiwibm90aWZpY2F0aW9uIiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsIm1lc3NhZ2UiLCJzdGFjayIsImNvbnNvbGUiLCJlcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBTEE7QUFPZSxTQUFTQSxtQkFBVCxDQUE2QkMsb0JBQTdCLEVBQW1EO0FBQ2hFLE1BQU1DLGVBQWUsR0FBRywrQkFBaUJELG9CQUFqQixFQUF1QyxvQ0FBdkMsRUFBb0UsRUFBcEUsQ0FBeEI7QUFFQSxTQUFPLFlBQWE7QUFDbEIsUUFBSTtBQUNGLGFBQU9DLGVBQWUsQ0FBQztBQUFBLFlBQUdDLFlBQUgsUUFBR0EsWUFBSDtBQUFBLDRCQUNyQiw2QkFBQyxpQkFBRDtBQUFVLFVBQUEsT0FBTyxFQUFDO0FBQWxCLHdCQUNFLDBDQUFNQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUYsWUFBZixFQUE2QixJQUE3QixFQUFtQyxDQUFuQyxDQUFOLENBREYsQ0FEcUI7QUFBQSxPQUFELENBQWYseUJBQVA7QUFLRCxLQU5ELENBTUUsT0FBT0csR0FBUCxFQUFZO0FBQUEsVUFDSkMsT0FESSxHQUNlRCxHQURmLENBQ0pDLE9BREk7QUFBQSxVQUNLQyxLQURMLEdBQ2VGLEdBRGYsQ0FDS0UsS0FETDtBQUdaQyxNQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBYztBQUFFSCxRQUFBQSxPQUFPLEVBQVBBLE9BQUY7QUFBV0MsUUFBQUEsS0FBSyxFQUFMQTtBQUFYLE9BQWQ7QUFFQSwwQkFDRSw2QkFBQyxpQkFBRDtBQUFVLFFBQUEsS0FBSyxFQUFFRixHQUFqQjtBQUFzQixRQUFBLE9BQU8sRUFBQztBQUE5QixzQkFDRSwwQ0FBTUYsSUFBSSxDQUFDQyxTQUFMLENBQWU7QUFBRUUsUUFBQUEsT0FBTyxFQUFQQSxPQUFGO0FBQVdDLFFBQUFBLEtBQUssRUFBTEE7QUFBWCxPQUFmLEVBQW1DLElBQW5DLEVBQXlDLENBQXpDLENBQU4sQ0FERixDQURGO0FBS0Q7QUFDRixHQWxCRDtBQW1CRCIsInNvdXJjZVJvb3QiOiJjb21wb25lbnQ6Ly8vIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLW1hZ2ljLW51bWJlcnM6IFtcImVycm9yXCIsIHsgXCJpZ25vcmVcIjogWzJdIH1dICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY29uY2F0TWlkZGxld2FyZSBmcm9tICcuL2NvbmNhdE1pZGRsZXdhcmUnO1xuaW1wb3J0IGNyZWF0ZUNvcmVUb2FzdE1pZGRsZXdhcmUgZnJvbSAnLi9Ub2FzdC9jcmVhdGVDb3JlTWlkZGxld2FyZSc7XG5pbXBvcnQgRXJyb3JCb3ggZnJvbSAnLi4vRXJyb3JCb3gnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVUb2FzdFJlbmRlcmVyKGFkZGl0aW9uYWxNaWRkbGV3YXJlKSB7XG4gIGNvbnN0IHRvYXN0TWlkZGxld2FyZSA9IGNvbmNhdE1pZGRsZXdhcmUoYWRkaXRpb25hbE1pZGRsZXdhcmUsIGNyZWF0ZUNvcmVUb2FzdE1pZGRsZXdhcmUoKSkoe30pO1xuXG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdG9hc3RNaWRkbGV3YXJlKCh7IG5vdGlmaWNhdGlvbiB9KSA9PiAoXG4gICAgICAgIDxFcnJvckJveCBtZXNzYWdlPVwiTm8gcmVuZGVyZXIgZm9yIHRoaXMgbm90aWZpY2F0aW9uXCI+XG4gICAgICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkobm90aWZpY2F0aW9uLCBudWxsLCAyKX08L3ByZT5cbiAgICAgICAgPC9FcnJvckJveD5cbiAgICAgICkpKC4uLmFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgeyBtZXNzYWdlLCBzdGFjayB9ID0gZXJyO1xuXG4gICAgICBjb25zb2xlLmVycm9yKHsgbWVzc2FnZSwgc3RhY2sgfSk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvckJveCBlcnJvcj17ZXJyfSBtZXNzYWdlPVwiRmFpbGVkIHRvIHJlbmRlciBub3RpZmljYXRpb25cIj5cbiAgICAgICAgICA8cHJlPntKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UsIHN0YWNrIH0sIG51bGwsIDIpfTwvcHJlPlxuICAgICAgICA8L0Vycm9yQm94PlxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG4iXX0=