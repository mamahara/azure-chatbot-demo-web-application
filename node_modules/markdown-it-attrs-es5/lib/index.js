module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(2),l={leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:[]};function o(t,e,n){var i,l,s={match:!1,j:null},c=void 0!==n.shift?e+n.shift:n.position,a=(i=t,(l=c)>=0?i[l]:i[i.length+l]);if(void 0===a)return s;var f=function(t){if("shift"===t||"position"===t)return"continue";if(void 0===a[t])return{v:s};if("children"===t&&function(t){return Array.isArray(t)&&t.length&&t.every((function(t){return"object"===r(t)}))}(n.children)){var e=function(){if(0===a.children.length)return{v:{v:s}};var t,e=n.children,r=a.children;if(e.every((function(t){return void 0!==t.position}))){if(t=e.every((function(t){return o(r,t.position,t).match}))){var i=function(t){return t.slice(-1)[0]||{}}(e).position;s.j=i>=0?i:r.length+i}}else for(var l=function(n){if(t=e.every((function(t){return o(r,n,t).match})))return s.j=n,"break"},c=0;c<r.length;c++){if("break"===l(c))break}return!1===t?{v:{v:s}}:{v:"continue"}}();if("object"===r(e))return e.v}switch(r(n[t])){case"boolean":case"number":case"string":if(a[t]!==n[t])return{v:s};break;case"function":if(!n[t](a[t]))return{v:s};break;case"object":if(function(t){return Array.isArray(t)&&t.length&&t.every((function(t){return"function"==typeof t}))}(n[t])){if(!1===n[t].every((function(e){return e(a[t])})))return{v:s};break}default:throw new Error("Unknown type of pattern test (key: ".concat(t,"). Test should be of type boolean, number, string, function or array of functions."))}};for(var u in n){var h=f(u);if("continue"!==h&&"object"===r(h))return h.v}return s.match=!0,s}t.exports=function(t,e){var n=Object.assign({},l);n=Object.assign(n,e);var r=i(n);t.core.ruler.before("linkify","curly_attributes",(function(t){for(var e=t.tokens,n=function(t){for(var n=0;n<r.length;n++){var i=r[n],l=null;i.tests.every((function(n){var r=o(e,t,n);return null!==r.j&&(l=r.j),r.match}))&&(i.transform(e,t,l),"inline attributes"!==i.name&&"inline nesting 0"!==i.name||n--)}},i=0;i<e.length;i++)n(i)}))}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r);e.default=i.a},function(t,e,n){"use strict";var r=n(3);function i(t){return t.slice(-1)[0]}t.exports=function(t){var e=new RegExp("^ {0,3}[-*_]{3,} ?"+r.escapeRegExp(t.leftDelimiter)+"[^"+r.escapeRegExp(t.rightDelimiter)+"]");return[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:r.hasDelimiters("end",t)}],transform:function(e,n){var i=e[n],l=i.info.lastIndexOf(t.leftDelimiter),o=r.getAttrs(i.info,l,t);r.addAttrs(o,i),i.info=r.removeDelimiter(i.info,t)}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:function(t){return"image"===t||"code_inline"===t}},{shift:0,type:"text",content:r.hasDelimiters("start",t)}]}],transform:function(e,n,i){var l=e[n].children[i],o=l.content.indexOf(t.rightDelimiter),s=e[n].children[i-1],c=r.getAttrs(l.content,0,t);r.addAttrs(c,s),l.content.length===o+t.rightDelimiter.length?e[n].children.splice(i,1):l.content=l.content.slice(o+t.rightDelimiter.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",t)}],transform:function(e,n){var i=e[n+2],l=r.getMatchingOpeningToken(e,n),o=r.getAttrs(i.content,0,t);r.addAttrs(o,l),e.splice(n+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:r.hasDelimiters("start",t)}]}],transform:function(e,n,i){var l=e[n].children[i],o=l.content,s=r.getAttrs(o,0,t),c=r.getMatchingOpeningToken(e[n].children,i-1);r.addAttrs(s,c),l.content=o.slice(o.indexOf(t.rightDelimiter)+t.rightDelimiter.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",t)}]}],transform:function(e,n,i){for(var l=e[n].children[i].content,o=r.getAttrs(l,0,t),s=n-2;e[s-1]&&"ordered_list_open"!==e[s-1].type&&"bullet_list_open"!==e[s-1].type;)s--;r.addAttrs(o,e[s-1]),e[n].children=e[n].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:function(t){return"bullet_list_close"===t||"ordered_list_close"===t}},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:r.hasDelimiters("only",t),children:function(t){return 1===t.length}},{shift:3,type:"paragraph_close"}],transform:function(e,n){var i=e[n+2].content,l=r.getAttrs(i,0,t),o=r.getMatchingOpeningToken(e,n);r.addAttrs(l,o),e.splice(n+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:r.hasDelimiters("end",t)}]}],transform:function(e,n,l){var o=e[n].children[l],s=o.content,c=r.getAttrs(s,s.lastIndexOf(t.leftDelimiter),t);r.addAttrs(c,e[n-2]);var a=s.slice(0,s.lastIndexOf(t.leftDelimiter));o.content=" "!==i(a)?a:a.slice(0,-1)}},{name:"\n{.a} softbreak then curly in start",tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:r.hasDelimiters("only",t)}]}],transform:function(e,n,i){for(var l=e[n].children[i],o=r.getAttrs(l.content,0,t),s=n+1;e[s+1]&&-1===e[s+1].nesting;)s++;var c=r.getMatchingOpeningToken(e,s);r.addAttrs(o,c),e[n].children=e[n].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:function(t){return 1===t.length},content:function(t){return null!==t.match(e)}},{shift:2,type:"paragraph_close"}],transform:function(e,n){var i=e[n];i.type="hr",i.tag="hr",i.nesting=0;var l=e[n+1].content,o=l.lastIndexOf(t.leftDelimiter);i.attrs=r.getAttrs(l,o,t),i.markup=l,e.splice(n+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:r.hasDelimiters("end",t),type:function(t){return"code_inline"!==t}}]}],transform:function(e,n,l){for(var o=e[n].children[l],s=o.content,c=r.getAttrs(s,s.lastIndexOf(t.leftDelimiter),t),a=n+1;e[a+1]&&-1===e[a+1].nesting;)a++;var f=r.getMatchingOpeningToken(e,a);r.addAttrs(c,f);var u=s.slice(0,s.lastIndexOf(t.leftDelimiter));o.content=" "!==i(u)?u:u.slice(0,-1)}}]}},function(t,e,n){"use strict";function r(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}e.getAttrs=function(t,e,n){for(var r=/[^\t\n\f />"'=]/,i=[],l="",o="",s=!0,c=!1,a=e+n.leftDelimiter.length;a<t.length;a++){if(t.slice(a,a+n.rightDelimiter.length)===n.rightDelimiter){""!==l&&i.push([l,o]);break}var f=t.charAt(a);if("="===f&&s)s=!1;else if("."!==f||""!==l)if("#"!==f||""!==l)if('"'!==f||""!==o)if('"'===f&&c)c=!1;else if(" "!==f||c)s&&-1===f.search(r)||(s?l+=f:o+=f);else{if(""===l)continue;i.push([l,o]),l="",o="",s=!0}else c=!0;else l="id",s=!1;else"."===t.charAt(a+1)?(l="css-module",a+=1):l="class",s=!1}if(n.allowedAttributes&&n.allowedAttributes.length){var u=n.allowedAttributes;return i.filter((function(t){var e=t[0];return u.some((function(t){return e===t||t instanceof RegExp&&t.test(e)}))}))}return i},e.addAttrs=function(t,e){for(var n=0,r=t.length;n<r;++n){var i=t[n][0];"class"===i?e.attrJoin("class",t[n][1]):"css-module"===i?e.attrJoin("css-module",t[n][1]):e.attrPush(t[n])}return e},e.hasDelimiters=function(t,e){if(!t)throw new Error('Parameter `where` not passed. Should be "start", "middle", "end" or "only".');return function(n){var r,i,l,o=e.leftDelimiter.length+1+e.rightDelimiter.length;if(!n||"string"!=typeof n||n.length<o)return!1;var s,c,a,f=o-e.rightDelimiter.length;switch(t){case"start":i=-1===(r=n.slice(0,e.leftDelimiter.length)===e.leftDelimiter?0:-1)?-1:n.indexOf(e.rightDelimiter,f),(l=n.charAt(i+e.rightDelimiter.length))&&-1!==e.rightDelimiter.indexOf(l)&&(i=-1);break;case"end":i=(i=-1===(r=n.lastIndexOf(e.leftDelimiter))?-1:n.indexOf(e.rightDelimiter,r+f))===n.length-e.rightDelimiter.length?i:-1;break;case"only":r=n.slice(0,e.leftDelimiter.length)===e.leftDelimiter?0:-1,i=n.slice(n.length-e.rightDelimiter.length)===e.rightDelimiter?n.length-e.rightDelimiter.length:-1}return-1!==r&&-1!==i&&(s=n.substring(r,i+e.rightDelimiter.length),c="."===s.charAt(e.leftDelimiter.length),a="#"===s.charAt(e.leftDelimiter.length),c||a?s.length>=o+1:s.length>=o)}},e.removeDelimiter=function(t,e){var n=r(e.leftDelimiter),i=r(e.rightDelimiter),l=new RegExp("[ \\n]?"+n+"[^"+n+i+"]+"+i+"$"),o=t.search(l);return-1!==o?t.slice(0,o):t},e.escapeRegExp=r,e.getMatchingOpeningToken=function(t,e){if("softbreak"===t[e].type)return!1;if(0===t[e].nesting)return t[e];for(var n=t[e].level,r=t[e].type.replace("_close","_open");e>=0;--e)if(t[e].type===r&&t[e].level===n)return t[e]};var i=/[&<>"]/,l=/[&<>"]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function s(t){return o[t]}e.escapeHtml=function(t){return i.test(t)?t.replace(l,s):t}}]);